const _excluded=["alignment","allowedPlacements","autoAlignment"],_excluded2=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"],_excluded3=["strategy"],_excluded4=["mainAxis","crossAxis","limiter"],_excluded5=["apply"];function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _objectWithoutProperties(t,e){if(null==t)return{};var n,o,r=_objectWithoutPropertiesLoose(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}define(["exports","preact/hooks","./hooks/UNSAFE_useUser","./utils/PRIVATE_floatingUtils"],function(t,e,n,o){"use strict";function r(t){return t.split("-")[0]}function i(t){return t.split("-")[1]}function l(t){return["top","bottom"].includes(r(t))?"x":"y"}function a(t){return"y"===t?"height":"width"}function s(t,e,n){let{reference:o,floating:s}=t;const c=o.x+o.width/2-s.width/2,f=o.y+o.height/2-s.height/2,u=l(e),d=a(u),p=o[d]/2-s[d]/2,m="x"===u;let g;switch(r(e)){case"top":g={x:c,y:o.y-s.height};break;case"bottom":g={x:c,y:o.y+o.height};break;case"right":g={x:o.x+o.width,y:f};break;case"left":g={x:o.x-s.width,y:f};break;default:g={x:o.x,y:o.y}}switch(i(e)){case"start":g[u]-=p*(n&&m?-1:1);break;case"end":g[u]+=p*(n&&m?-1:1)}return g}function c(t){return"number"!=typeof t?function(t){return _objectSpread({top:0,right:0,bottom:0,left:0},t)}(t):{top:t,right:t,bottom:t,left:t}}function f(t){return _objectSpread(_objectSpread({},t),{},{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}async function u(t,e){var n;void 0===e&&(e={});const{x:o,y:r,platform:i,rects:l,elements:a,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:m=!1,padding:g=0}=e,h=c(g),y=a[m?"floating"===p?"reference":"floating":p],b=f(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(y)))||n?y:y.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:s})),w=f(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===p?_objectSpread(_objectSpread({},l.floating),{},{x:o,y:r}):l.reference,offsetParent:await(null==i.getOffsetParent?void 0:i.getOffsetParent(a.floating)),strategy:s}):l[p]);return{top:b.top-w.top+h.top,bottom:w.bottom-b.bottom+h.bottom,left:b.left-w.left+h.left,right:w.right-b.right+h.right}}const d=Math.min,p=Math.max;function m(t,e,n){return p(t,d(e,n))}const g={left:"right",right:"left",bottom:"top",top:"bottom"};function h(t){return t.replace(/left|right|bottom|top/g,t=>g[t])}function y(t,e,n){void 0===n&&(n=!1);const o=i(t),r=l(t),s=a(r);let c="x"===r?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return e.reference[s]>e.floating[s]&&(c=h(c)),{main:c,cross:h(c)}}const b={start:"end",end:"start"};function w(t){return t.replace(/start|end/g,t=>b[t])}const v=["top","right","bottom","left"],x=v.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function A(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _(t){return v.some(e=>t[e]>=0)}function j(t){return"x"===t?"y":"x"}function R(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function O(t){if(null==t)return window;if(!R(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function S(t){return O(t).getComputedStyle(t)}function P(t){return R(t)?"":t?(t.nodeName||"").toLowerCase():""}function L(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function T(t){return t instanceof O(t).HTMLElement}function C(t){return t instanceof O(t).Element}function D(t){return"undefined"!=typeof ShadowRoot&&(t instanceof O(t).ShadowRoot||t instanceof ShadowRoot)}function E(t){const{overflow:e,overflowX:n,overflowY:o}=S(t);return/auto|scroll|overlay|hidden/.test(e+o+n)}function W(t){return["table","td","th"].includes(P(t))}function k(t){const e=/firefox/i.test(L()),n=S(t);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter}function H(){return!/^((?!chrome|android).)*safari/i.test(L())}const V=Math.min,$=Math.max,I=Math.round;function M(t,e,n){var o,r,i,l;void 0===e&&(e=!1),void 0===n&&(n=!1);const a=t.getBoundingClientRect();let s=1,c=1;e&&T(t)&&(s=t.offsetWidth>0&&I(a.width)/t.offsetWidth||1,c=t.offsetHeight>0&&I(a.height)/t.offsetHeight||1);const f=C(t)?O(t):window,u=!H()&&n,d=(a.left+(u&&null!=(o=null==(r=f.visualViewport)?void 0:r.offsetLeft)?o:0))/s,p=(a.top+(u&&null!=(i=null==(l=f.visualViewport)?void 0:l.offsetTop)?i:0))/c,m=a.width/s,g=a.height/c;return{width:m,height:g,top:p,right:d+m,bottom:p+g,left:d,x:d,y:p}}function N(t){return(e=t,(e instanceof O(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function z(t){return C(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function B(t){return M(N(t)).left+z(t).scrollLeft}function F(t,e,n){const o=T(e),r=N(e),i=M(t,o&&function(t){const e=M(t);return I(e.width)!==t.offsetWidth||I(e.height)!==t.offsetHeight}(e),"fixed"===n);let l={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(o||!o&&"fixed"!==n)if(("body"!==P(e)||E(r))&&(l=z(e)),T(e)){const t=M(e,!0);a.x=t.x+e.clientLeft,a.y=t.y+e.clientTop}else r&&(a.x=B(r));return{x:i.left+l.scrollLeft-a.x,y:i.top+l.scrollTop-a.y,width:i.width,height:i.height}}function U(t){return"html"===P(t)?t:t.assignedSlot||t.parentNode||(D(t)?t.host:null)||N(t)}function K(t){return T(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function X(t){const e=O(t);let n=K(t);for(;n&&W(n)&&"static"===getComputedStyle(n).position;)n=K(n);return n&&("html"===P(n)||"body"===P(n)&&"static"===getComputedStyle(n).position&&!k(n))?e:n||function(t){let e=U(t);for(D(e)&&(e=e.host);T(e)&&!["html","body"].includes(P(e));){if(k(e))return e;e=e.parentNode}return null}(t)||e}function Y(t){if(T(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=M(t);return{width:e.width,height:e.height}}function q(t){const e=U(t);return["html","body","#document"].includes(P(e))?t.ownerDocument.body:T(e)&&E(e)?e:q(e)}function G(t,e){var n;void 0===e&&(e=[]);const o=q(t),r=o===(null==(n=t.ownerDocument)?void 0:n.body),i=O(o),l=r?[i].concat(i.visualViewport||[],E(o)?o:[]):o,a=e.concat(l);return r?a:a.concat(G(l))}function J(t,e,n){return"viewport"===e?f(function(t,e){const n=O(t),o=N(t),r=n.visualViewport;let i=o.clientWidth,l=o.clientHeight,a=0,s=0;if(r){i=r.width,l=r.height;const t=H();(t||!t&&"fixed"===e)&&(a=r.offsetLeft,s=r.offsetTop)}return{width:i,height:l,x:a,y:s}}(t,n)):C(e)?function(t,e){const n=M(t,!1,"fixed"===e),o=n.top+t.clientTop,r=n.left+t.clientLeft;return{top:o,left:r,x:r,y:o,right:r+t.clientWidth,bottom:o+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(e,n):f(function(t){var e;const n=N(t),o=z(t),r=null==(e=t.ownerDocument)?void 0:e.body,i=$(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=$(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0);let a=-o.scrollLeft+B(t);const s=-o.scrollTop;return"rtl"===S(r||n).direction&&(a+=$(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:l,x:a,y:s}}(N(t)))}function Q(t){const e=G(t),n=["absolute","fixed"].includes(S(t).position)&&T(t)?X(t):t;return C(n)?e.filter(t=>C(t)&&function(t,e){const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&D(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(t,n)&&"body"!==P(t)):[]}const Z={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const i=[].concat(_toConsumableArray("clippingAncestors"===n?Q(e):[].concat(n)),[o]),l=i[0],a=i.reduce((t,n)=>{const o=J(e,n,r);return t.top=$(o.top,t.top),t.right=V(o.right,t.right),t.bottom=V(o.bottom,t.bottom),t.left=$(o.left,t.left),t},J(e,l,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const r=T(n),i=N(n);if(n===i)return e;let l={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((r||!r&&"fixed"!==o)&&(("body"!==P(n)||E(i))&&(l=z(n)),T(n))){const t=M(n,!0);a.x=t.x+n.clientLeft,a.y=t.y+n.clientTop}return _objectSpread(_objectSpread({},e),{},{x:e.x-l.scrollLeft+a.x,y:e.y-l.scrollTop+a.y})},isElement:C,getDimensions:Y,getOffsetParent:X,getDocumentElement:N,getElementRects:t=>{let{reference:e,floating:n,strategy:o}=t;return{reference:F(e,X(n),o),floating:_objectSpread(_objectSpread({},Y(n)),{},{x:0,y:0})}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===S(t).direction};const tt=(t,e,n)=>(async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:l}=n,a=await(null==l.isRTL?void 0:l.isRTL(e));let c=await l.getElementRects({reference:t,floating:e,strategy:r}),{x:f,y:u}=s(c,o,a),d=o,p={},m=0;for(let n=0;n<i.length;n++){const{name:g,fn:h}=i[n],{x:y,y:b,data:w,reset:v}=await h({x:f,y:u,initialPlacement:o,placement:d,strategy:r,middlewareData:p,rects:c,platform:l,elements:{reference:t,floating:e}});f=null!=y?y:f,u=null!=b?b:u,p=_objectSpread(_objectSpread({},p),{},{[g]:_objectSpread(_objectSpread({},p[g]),w)}),v&&m<=50&&(m++,"object"==typeof v&&(v.placement&&(d=v.placement),v.rects&&(c=!0===v.rects?await l.getElementRects({reference:t,floating:e,strategy:r}):v.rects),({x:f,y:u}=s(c,d,a))),n=-1)}return{x:f,y:u,placement:d,strategy:r,middlewareData:p}})(t,e,_objectSpread({platform:Z},n)),et=t=>({name:"offset",options:t,fn:async e=>function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:o}=e,a=await async function(t,e){const{placement:n,platform:o,elements:a}=t,s=await(null==o.isRTL?void 0:o.isRTL(a.floating)),c=r(n),f=i(n),u="x"===l(n),d=["left","top"].includes(c)?-1:1,p=s&&u?-1:1,m="function"==typeof e?e(t):e;let{mainAxis:g,crossAxis:h,alignmentAxis:y}="number"==typeof m?{mainAxis:m,crossAxis:0,alignmentAxis:null}:_objectSpread({mainAxis:0,crossAxis:0,alignmentAxis:null},m);return f&&"number"==typeof y&&(h="end"===f?-1*y:y),u?{x:h*p,y:g*d}:{x:g*d,y:h*p}}(e,t);return{x:n+a.x,y:o+a.y,data:a}}}}(e=>{var n;let o;if(null!=(null===(n=e.middlewareData.flip)||void 0===n?void 0:n.overflows[0])&&null!=t&&"object"==typeof t&&(o=nt(e.placement,e.initialPlacement,t)),!t)return 0;return"function"==typeof t?t(Object.assign(Object.assign({},e.rects),{placement:e.placement})):null!=o?o:t}).fn(e)}),nt=(t,e,n)=>{const o=e.split("-")[0],r=t.split("-")[0],i=e.split("-")[1],l=t.split("-")[1];return("right"===o||"left"===o)&&o===r&&i!==l||("top"===o||"bottom"===o)&&o===r&&i!==l?{mainAxis:n&&"object"==typeof n&&n.mainAxis?n.mainAxis:0,crossAxis:n&&"object"==typeof n&&n.crossAxis?-n.crossAxis:0}:n};function ot(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if("function"==typeof t&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&"object"==typeof t){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(o=n;0!=o--;)if(!ot(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,r[o]))return!1;for(o=n;0!=o--;){const n=r[o];if(("_owner"!==n||!t.$$typeof)&&!ot(t[n],e[n]))return!1}return!0}return t!=t&&e!=e}t.D=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:c={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}}}=t,f=_objectWithoutProperties(t,_excluded4),d={x:n,y:o},p=await u(e,f),g=l(r(i)),h=j(g);let y=d[g],b=d[h];if(a){const t="y"===g?"bottom":"right";y=m(y+p["y"===g?"top":"left"],y,y-p[t])}if(s){const t="y"===h?"bottom":"right";b=m(b+p["y"===h?"top":"left"],b,b-p[t])}const w=c.fn(_objectSpread(_objectSpread({},e),{},{[g]:y,[h]:b}));return _objectSpread(_objectSpread({},w),{},{data:{x:w.x-n,y:w.y-o}})}}},t.E=function(t){return void 0===t&&(t={}),{name:"inline",options:t,async fn(e){var n;const{placement:o,elements:i,rects:a,platform:s,strategy:u}=e,{padding:m=2,x:g,y:h}=t,y=f(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:a.reference,offsetParent:await(null==s.getOffsetParent?void 0:s.getOffsetParent(i.floating)),strategy:u}):a.reference),b=null!=(n=await(null==s.getClientRects?void 0:s.getClientRects(i.reference)))?n:[],w=c(m),v=await s.getElementRects({reference:{getBoundingClientRect:function(){var t;if(2===b.length&&b[0].left>b[1].right&&null!=g&&null!=h)return null!=(t=b.find(t=>g>t.left-w.left&&g<t.right+w.right&&h>t.top-w.top&&h<t.bottom+w.bottom))?t:y;if(b.length>=2){if("x"===l(o)){const t=b[0],e=b[b.length-1],n="top"===r(o),i=t.top,l=e.bottom,a=n?t.left:e.left,s=n?t.right:e.right;return{top:i,bottom:l,left:a,right:s,width:s-a,height:l-i,x:a,y:i}}const t="left"===r(o),e=p.apply(void 0,_toConsumableArray(b.map(t=>t.right))),n=d.apply(void 0,_toConsumableArray(b.map(t=>t.left))),i=b.filter(o=>t?o.left===n:o.right===e),a=i[0].top,s=i[i.length-1].bottom;return{top:a,bottom:s,left:n,right:e,width:e-n,height:s-a,x:n,y:a}}return y}},floating:i.floating,strategy:u});return a.reference.x!==v.reference.x||a.reference.y!==v.reference.y||a.reference.width!==v.reference.width||a.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}},t.L=function(t){return void 0===t&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:i,rects:a,middlewareData:s}=e,{offset:c=0,mainAxis:f=!0,crossAxis:u=!0}=t,d={x:n,y:o},p=l(i),m=j(p);let g=d[p],h=d[m];const y="function"==typeof c?c(_objectSpread(_objectSpread({},a),{},{placement:i})):c,b="number"==typeof y?{mainAxis:y,crossAxis:0}:_objectSpread({mainAxis:0,crossAxis:0},y);if(f){const t="y"===p?"height":"width",e=a.reference[p]-a.floating[t]+b.mainAxis,n=a.reference[p]+a.reference[t]-b.mainAxis;g<e?g=e:g>n&&(g=n)}if(u){var w,v,x,A;const t="y"===p?"width":"height",e=["top","left"].includes(r(i)),n=a.reference[m]-a.floating[t]+(e&&null!=(w=null==(v=s.offset)?void 0:v[m])?w:0)+(e?0:b.crossAxis),o=a.reference[m]+a.reference[t]+(e?0:null!=(x=null==(A=s.offset)?void 0:A[m])?x:0)-(e?b.crossAxis:0);h<n?h=n:h>o&&(h=o)}return{[p]:g,[m]:h}}}},t.N=function(t,e,n,o){void 0===o&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=!0,animationFrame:a=!1}=o,s=r&&!a,c=i&&!a,f=s||c?[].concat(_toConsumableArray(C(t)?G(t):[]),_toConsumableArray(G(e))):[];f.forEach(t=>{s&&t.addEventListener("scroll",n,{passive:!0}),c&&t.addEventListener("resize",n)});let u,d=null;l&&(d=new ResizeObserver(n),C(t)&&!a&&d.observe(t),d.observe(e));let p=a?M(t):null;return a&&function e(){const o=M(t);!p||o.x===p.x&&o.y===p.y&&o.width===p.width&&o.height===p.height||n(),p=o,u=requestAnimationFrame(e)}(),l||n(),()=>{var t;f.forEach(t=>{s&&t.removeEventListener("scroll",n),c&&t.removeEventListener("resize",n)}),null==(t=d)||t.disconnect(),d=null,a&&cancelAnimationFrame(u)}},t.P=function(t){let e=void 0===t?{}:t,{strategy:n="referenceHidden"}=e,o=_objectWithoutProperties(e,_excluded3);return{name:"hide",async fn(t){const{rects:e}=t;switch(n){case"referenceHidden":{const n=A(await u(t,_objectSpread(_objectSpread({},o),{},{elementContext:"reference"})),e.reference);return{data:{referenceHiddenOffsets:n,referenceHidden:_(n)}}}case"escaped":{const n=A(await u(t,_objectSpread(_objectSpread({},o),{},{altBoundary:!0})),e.floating);return{data:{escapedOffsets:n,escaped:_(n)}}}default:return{}}}}},t.b=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:o,middlewareData:i,rects:l,initialPlacement:a,platform:s,elements:c}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",flipAlignment:g=!0}=t,b=_objectWithoutProperties(t,_excluded2),v=r(o),x=p||(v!==a&&g?function(t){const e=h(t);return[w(t),e,w(e)]}(a):[h(a)]),A=[a].concat(_toConsumableArray(x)),_=await u(e,b),j=[];let R=(null==(n=i.flip)?void 0:n.overflows)||[];if(f&&j.push(_[v]),d){const{main:t,cross:e}=y(o,l,await(null==s.isRTL?void 0:s.isRTL(c.floating)));j.push(_[t],_[e])}if(R=[].concat(_toConsumableArray(R),[{placement:o,overflows:j}]),!j.every(t=>t<=0)){var O,S;const t=(null!=(O=null==(S=i.flip)?void 0:S.index)?O:0)+1,e=A[t];if(e)return{data:{index:t,overflows:R},reset:{placement:e}};let n="bottom";switch(m){case"bestFit":{var P;const t=null==(P=R.map(t=>[t,t.overflows.filter(t=>t>0).reduce((t,e)=>t+e,0)]).sort((t,e)=>t[1]-e[1])[0])?void 0:P[0].placement;t&&(n=t);break}case"initialPlacement":n=a}if(o!==n)return{reset:{placement:n}}}return{}}}},t.k=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:l,elements:a}=e,{apply:s}=t,c=_objectWithoutProperties(t,_excluded5),f=await u(e,c),d=r(n),m=i(n);let g,h;"top"===d||"bottom"===d?(g=d,h=m===(await(null==l.isRTL?void 0:l.isRTL(a.floating))?"start":"end")?"left":"right"):(h=d,g="end"===m?"top":"bottom");const y=p(f.left,0),b=p(f.right,0),w=p(f.top,0),v=p(f.bottom,0),x={availableHeight:o.floating.height-(["left","right"].includes(n)?2*(0!==w||0!==v?w+v:p(f.top,f.bottom)):f[g]),availableWidth:o.floating.width-(["top","bottom"].includes(n)?2*(0!==y||0!==b?y+b:p(f.left,f.right)):f[h])},A=await l.getDimensions(a.floating);null==s||s(_objectSpread(_objectSpread({},e),x));const _=await l.getDimensions(a.floating);return A.width!==_.width||A.height!==_.height?{reset:{rects:!0}}:{}}}},t.m=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:o=0}=null!=t?t:{},{x:r,y:s,placement:f,rects:u,platform:d}=e;if(null==n)return{};const p=c(o),g={x:r,y:s},h=l(f),y=i(f),b=a(h),w=await d.getDimensions(n),v="y"===h?"top":"left",x="y"===h?"bottom":"right",A=u.reference[b]+u.reference[h]-g[h]-u.floating[b],_=g[h]-u.reference[h],j=await(null==d.getOffsetParent?void 0:d.getOffsetParent(n));let R=j?"y"===h?j.clientHeight||0:j.clientWidth||0:0;0===R&&(R=u.floating[b]);const O=A/2-_/2,S=p[v],P=R-w[b]-p[x],L=R/2-w[b]/2+O,T=m(S,L,P),C=("start"===y?p[v]:p[x])>0&&L!==T&&u.reference[b]<=u.floating[b];return{[h]:g[h]-(C?L<S?S-L:P-L:0),data:{[h]:T,centerOffset:L-T}}}}),t.offset=et,t.s=u,t.useFloating=function({middleware:t,placement:r,strategy:i,onPosition:l,whileElementsMounted:a}){["top","top-start","top-end","top-start-corner","top-end-corner","start","start-top","start-bottom","start-top-corner","start-bottom-corner","bottom","bottom-start","bottom-end","bottom-start-corner","bottom-end-corner","end","end-top","end-bottom","end-top-corner","end-bottom-corner"].includes(r)||(r="bottom");const s=e.useRef(null),c=e.useRef(null),f=function(t){const n=e.useRef(t);return e.useLayoutEffect(()=>{n.current=t}),n}(a),u=e.useRef(null),d=e.useRef(!1),{direction:p}=n.useUser(),[m,g]=e.useState({x:null,y:null,strategy:null!=i?i:"absolute",placement:"bottom",middlewareData:{}}),h=e.useRef(m),[y,b]=e.useState(t);ot(null==y?void 0:y.map(({options:t})=>t),null==t?void 0:t.map(({options:t})=>t))||b(t);const w=e.useCallback(()=>{if(!s.current||!c.current)return;const t=((t,e)=>{const n=t.split("-")[0],o=t.split("-")[1];if(null==t.split("-")[2])return{placement:t,offset:void 0};const r=["top-start","start-top","bottom-start","start-bottom","top-end","end-top","bottom-end","end-bottom"].filter(t=>t===`${n}-${o}`)[0];return"start"==o?{placement:r,offset:{crossAxis:-e.offsetWidth}}:"end"==o?{placement:r,offset:{crossAxis:e.offsetWidth}}:"top"==o?{placement:r,offset:{crossAxis:-e.offsetHeight}}:{placement:r,offset:{crossAxis:e.offsetHeight}}})(r,c.current),e=((t,e)=>{const n=t.split("-")[0],r=t.split("-")[1],i=o.normalizePosition(n,e);let l,a;r&&(l={top:"start",bottom:"end"},a=r.replace(/top|bottom/g,t=>l[t]));const s=["top","right","bottom","left","top-start","right-start","bottom-start","left-start","top-end","right-end","bottom-end","left-end"].filter(t=>a&&t===`${i}-${a}`||!a&&t===`${i}`)[0];return s||"bottom"})(t.placement,p),n=null==y?void 0:y.map(e=>{var n,o,r;if("offset"===e.name){if("function"==typeof e.options)return null==t.offset?e:et(t.offset);const i="number"==typeof e.options?{mainAxis:e.options,crossAxis:0}:e.options;return et({mainAxis:null!==(n=i&&i.mainAxis)&&void 0!==n?n:0,crossAxis:(null!==(o=t.offset&&t.offset.crossAxis)&&void 0!==o?o:0)+(null!==(r=i&&i.crossAxis)&&void 0!==r?r:0)})}return e});tt(s.current,c.current,{middleware:n,placement:e,strategy:i}).then(t=>{var e,i,a,s,c,f,u;if(d.current){if(t.placement!==h.current.placement||t.x!==h.current.x||t.y!==h.current.y||(null===(e=t.middlewareData.arrow)||void 0===e?void 0:e.x)!=(null===(i=h.current.middlewareData.arrow)||void 0===i?void 0:i.x)||(null===(a=t.middlewareData.arrow)||void 0===a?void 0:a.y)!=(null===(s=h.current.middlewareData.arrow)||void 0===s?void 0:s.y)||(null===(c=t.middlewareData.arrow)||void 0===c?void 0:c.centerOffset)!=(null===(f=h.current.middlewareData.arrow)||void 0===f?void 0:f.centerOffset)){const e=null===(u=null==n?void 0:n.find(t=>"offset"===t.name))||void 0===u?void 0:u.options,i=((t,e)=>{const n=t.split("-")[0];if("top"===n||"bottom"===n)return t;const r=t.split("-")[1],i=o.reverseNormalizePosition(n,e),l={start:"top",end:"bottom"},a=null!=r?r.replace(/start|end/g,t=>l[t]):null,s=["top","top-start","top-end","end","end-top","end-bottom","bottom-start","bottom-end","bottom","start","start-top","start-bottom"].filter(t=>a&&t===`${i}-${a}`||!a&&t===`${i}`)[0];return s||"bottom"})(t.placement,p),a=t.middlewareData.offset,s={placement:i,origPlacement:r,x:t.x,y:t.y,arrow:t.middlewareData.arrow,offset:a,origOffset:e};null==l||l(s)}(t=>{h.current=t,g(t)})(t)}})},[y,r,p,i,l]);e.useLayoutEffect(()=>{d.current&&w()},[w]),e.useLayoutEffect(()=>(d.current=!0,()=>{d.current=!1}),[]);const v=e.useCallback(()=>{if("function"==typeof u.current&&(u.current(),u.current=null),s.current&&c.current)if(f.current){const t=f.current(s.current,c.current,w);u.current=t}else w()},[w,f]),x=e.useCallback(t=>{s.current=t,v()},[v]),A=e.useCallback(t=>{c.current=t,v()},[v]),_=e.useMemo(()=>({reference:s,floating:c}),[]);return e.useMemo(()=>Object.assign(Object.assign({},m),{update:w,refs:_,reference:x,floating:A}),[m,w,_,x,A])},t.v=function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,o,l,a,s;const{x:c,y:f,rects:d,middlewareData:p,placement:m,platform:g,elements:h}=e,{alignment:b=null,allowedPlacements:v=x,autoAlignment:A=!0}=t,_=_objectWithoutProperties(t,_excluded),j=function(t,e,n){return(t?[].concat(_toConsumableArray(n.filter(e=>i(e)===t)),_toConsumableArray(n.filter(e=>i(e)!==t))):n.filter(t=>r(t)===t)).filter(n=>!t||i(n)===t||!!e&&w(n)!==n)}(b,A,v),R=await u(e,_),O=null!=(n=null==(o=p.autoPlacement)?void 0:o.index)?n:0,S=j[O];if(null==S)return{};const{main:P,cross:L}=y(S,d,await(null==g.isRTL?void 0:g.isRTL(h.floating)));if(m!==S)return{x:c,y:f,reset:{placement:j[0]}};const T=[R[r(S)],R[P],R[L]],C=[].concat(_toConsumableArray(null!=(l=null==(a=p.autoPlacement)?void 0:a.overflows)?l:[]),[{placement:S,overflows:T}]),D=j[O+1];if(D)return{data:{index:O+1,overflows:C},reset:{placement:D}};const E=C.slice().sort((t,e)=>t.overflows[0]-e.overflows[0]),W=null==(s=E.find(t=>{let{overflows:e}=t;return e.every(t=>t<=0)}))?void 0:s.placement,k=null!=W?W:E[0].placement;return k!==m?{data:{index:O+1,overflows:C},reset:{placement:k}}:{}}}}});
//# sourceMappingURL=index-e6354839.js.map
