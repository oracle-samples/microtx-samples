{"version":3,"file":"UNSAFE_UserAssistance.js","sources":["../../src/UNSAFE_UserAssistance/InlineHelp.tsx","../../src/UNSAFE_UserAssistance/InlineRequired.tsx","../../src/UNSAFE_UserAssistance/InlineUserAssistanceContainer.tsx","../../src/UNSAFE_UserAssistance/InlineUserAssistance.tsx"],"sourcesContent":["import { cssProps } from '@oracle/oraclejet-cssprops';\nimport { InlineHelpSource } from './InlineHelpSource';\n\nconst helpTextStyles = cssProps`${{\n  marginInlineEnd: '0.25rem',\n  whiteSpace: 'pre'\n}}`;\n\ntype Props = {\n  assistiveText?: string;\n  sourceLink?: string;\n  sourceText?: string;\n};\n\nexport function InlineHelp({ assistiveText, sourceLink, sourceText }: Props) {\n  return (\n    <div>\n      {assistiveText && sourceLink ? (\n        <span class={helpTextStyles}>{assistiveText}</span>\n      ) : (\n        assistiveText\n      )}\n      {sourceLink && <InlineHelpSource source={sourceLink}>{sourceText}</InlineHelpSource>}\n    </div>\n  );\n}\n","import { classNames } from '../utils/UNSAFE_classNames';\nimport { cssProps } from '@oracle/oraclejet-cssprops';\nimport { useTranslationBundle } from '../hooks/UNSAFE_useTranslationBundle';\nimport { BundleType } from '../resources/nls/bundle';\n\nconst variantStyles = {\n  start: cssProps`${{\n    paddingInlineEnd: '2px',\n    textAlign: 'start'\n  }}`,\n  end: cssProps`${{\n    paddingInlineStart: '2px',\n    textAlign: 'end'\n  }}`\n};\nconst displayHiddenStyles = cssProps`${{\n  display: 'none'\n}}`;\n\ntype Props = {\n  align?: 'start' | 'end';\n  hasMessages?: boolean;\n  hasHelp?: boolean;\n};\n\nexport function InlineRequired({ align = 'end', hasHelp = false, hasMessages = false }: Props) {\n  const classes = classNames([\n    variantStyles[align],\n    (hasHelp || hasMessages) && displayHiddenStyles\n  ]);\n\n  const translations = useTranslationBundle<BundleType>('@oracle/oraclejet-preact');\n  const requiredStr = translations.userAssistance_required();\n\n  return <div class={classes}>{requiredStr}</div>;\n}\n","import { ComponentChildren } from 'preact';\nimport { classNames } from '../utils/UNSAFE_classNames';\nimport { cssProps } from '@oracle/oraclejet-cssprops';\nimport { UserAssistanceDensityType } from './InlineUserAssistance';\n\nconst baseStyles = cssProps`${{\n  marginTop: '2px',\n  color: 'var(--oj-c-PRIVATE-DO-NOT-USE-user-assistance-inline-text-color)',\n  fontSize: 'var(--oj-c-PRIVATE-DO-NOT-USE-user-assistance-inline-font-size)',\n  fontWeight: 'normal',\n  lineHeight: 1.333,\n  wordBreak: 'break-word'\n}}`;\nconst variantStyles = {\n  reflow: cssProps`${{\n    '&:empty': {\n      marginTop: '0px'\n    }\n  }}`,\n  efficient: cssProps`${{\n    minHeight: '1.333rem'\n  }}`\n};\n\ntype Props = {\n  children?: ComponentChildren;\n  id?: string;\n  variant?: UserAssistanceDensityType;\n};\n\n// defaults to type='reflow'. If this is within an oj-form-layout, the o-f-l\n// will pass down its type which defaults to 'efficient' (TODO).\nexport function InlineUserAssistanceContainer({ variant = 'reflow', children, id }: Props) {\n  const classes = classNames([baseStyles, variantStyles[variant]]);\n\n  return (\n    <div class={classes} id={id}>\n      {children}\n    </div>\n  );\n}\n","import { ComponentMessageItem, ComponentMessageContainer } from '../UNSAFE_ComponentMessage';\nimport { useFormContext } from '../hooks/UNSAFE_useFormContext';\nimport { useFormFieldContext } from '../hooks/UNSAFE_useFormFieldContext';\nimport { InlineHelp } from './InlineHelp';\nimport { InlineRequired } from './InlineRequired';\nimport { InlineUserAssistanceContainer } from './InlineUserAssistanceContainer';\n\n// TODO: support 'compact' density type\nexport type UserAssistanceDensityType = 'reflow' | 'efficient';\n\ntype Props = {\n  assistiveText?: string;\n  fieldLabel?: string;\n  helpSourceLink?: string;\n  helpSourceText?: string;\n  id?: string;\n  isRequiredShown?: boolean;\n  messages?: ComponentMessageItem[];\n  userAssistanceDensity?: UserAssistanceDensityType;\n};\n\n// This has the precedence rules for the user assistance.\nexport function InlineUserAssistance({\n  assistiveText,\n  fieldLabel,\n  helpSourceLink,\n  helpSourceText,\n  id,\n  isRequiredShown,\n  messages = [],\n  userAssistanceDensity\n}: Props) {\n  const { isReadonly: isFormReadonly } = useFormContext();\n  const needsUserAssistanceIfNoContent =\n    userAssistanceDensity === 'efficient' && isFormReadonly === false;\n  const { isFocused } = useFormFieldContext();\n  const uaInlineContent =\n    messages.length > 0 ? (\n      <ComponentMessageContainer fieldLabel={fieldLabel} messages={messages} />\n    ) : (assistiveText || helpSourceLink) && isFocused ? (\n      <InlineHelp\n        assistiveText={assistiveText}\n        sourceLink={helpSourceLink}\n        sourceText={helpSourceText}\n      />\n    ) : isRequiredShown ? (\n      <InlineRequired />\n    ) : null;\n\n  // when reflow we do not render unless it has content.\n  // when efficient we render regardless of if it has content.\n  // TODO: Get the userAssistanceDensity value from the FormContext\n  return uaInlineContent || needsUserAssistanceIfNoContent ? (\n    <InlineUserAssistanceContainer id={id} variant={userAssistanceDensity}>\n      {uaInlineContent}\n    </InlineUserAssistanceContainer>\n  ) : null;\n}\n"],"names":["InlineHelp","assistiveText","sourceLink","sourceText","_jsxs","children","_jsx","jsx","Object","assign","class","InlineHelpSource","source","variantStyles","InlineRequired","align","hasHelp","hasMessages","requiredStr","useTranslationBundle","userAssistance_required","classes","InlineUserAssistanceContainer","variant","id","classNames","fieldLabel","helpSourceLink","helpSourceText","isRequiredShown","messages","userAssistanceDensity","isReadonly","isFormReadonly","useFormContext","needsUserAssistanceIfNoContent","isFocused","useFormFieldContext","uaInlineContent","length","ComponentMessageContainer"],"mappings":"61EAcA,SAAAA,IAAAC,cAAAA,EAAAC,WAAAA,EAAAC,WAAAA,IACE,OAAAC,EAAAA,KAAA,MAAA,CAAAC,SAAA,CAAAJ,GAAAC,EAAAI,EAAAC,IAAA,OAAAC,OAAAC,OAAA,CAAAC,MAZF,YAYE,CAAAL,SAAAJ,KAAAA,EAAAC,GAAAI,EAAAC,IAAAI,EAAAA,iBAAAH,OAAAC,OAAA,CAAAG,OAAAV,GAAA,CAAAG,SAAAF,QCVF,MAAAU,GAAA,OAAA,0BAoBA,SAAAC,IAAAC,MAAAA,EAAA,MAAAC,QAAAA,GAAA,EAAAC,YAAAA,GAAA,iCAGID,GAAAC,IAbJ,YAiBEC,EADAC,uBAAA,4BACAC,0BAEA,OAAAd,MAAA,MAAAE,OAAAC,OAAA,CAAAC,MAAAW,GAAA,CAAAhB,SAAAa,KC7BF,MAQAL,GAAA,QAAA,iCAmBA,SAAAS,IAAAC,QAAAA,EAAA,SAAAlB,SAAAA,EAAAmB,GAAAA,IACE,MAAAH,EAAAI,EAAAA,WAAA,CA5BF,SA4BEZ,GAAAU,KAEA,OAAAjB,MAAA,MAAAE,OAAAC,OAAA,CAAAC,MAAAW,EAAAG,GAAAA,GAAA,CAAAnB,SAAAA,sGCbI,UAA+BJ,cACnCA,EADmCyB,WAEnCA,EAFmCC,eAGnCA,EAHmCC,eAInCA,EAJmCJ,GAKnCA,EALmCK,gBAMnCA,EANmCC,SAOnCA,EAAW,GAPwBC,sBAQnCA,IAEA,MAAQC,WAAYC,GAAmBC,EAAcA,iBAC/CC,EACsB,cAA1BJ,IAA4D,IAAnBE,GACrCG,UAAEA,GAAcC,EAAAA,sBAChBC,EACJR,EAASS,OAAS,EAChBjC,EAAAA,IAACkC,EAAAA,2BAA0Bd,WAAYA,EAAYI,SAAUA,KAC1D7B,GAAiB0B,IAAmBS,EACvC9B,EAAAA,IAACN,GAAU,CACTC,cAAeA,EACfC,WAAYyB,EACZxB,WAAYyB,IAEZC,EACFvB,EAACC,IAAAO,OACC,KAKN,OAAOwB,GAAmBH,EACxB7B,EAAAC,IAACe,GAA6Bd,OAAAC,OAAA,CAACe,GAAIA,EAAID,QAASQ,GAC7C,CAAA1B,SAAAiC,KAED"}