{"version":3,"file":"UNSAFE_filePickerUtils.js","sources":["../../../src/utils/UNSAFE_filePickerUtils/filePickerUtils.ts"],"sourcesContent":["// Contains utility functions intended to be used to pick files\n\nexport type FileOptions = {\n  accept?: Array<string>;\n  capture?: 'user' | 'environment' | 'implementation' | 'none';\n  selectionMode?: 'single' | 'multiple';\n};\n\nexport function pickFiles(\n  callback: (files: FileList) => void,\n  { accept = [], capture = 'none', selectionMode = 'single' }: FileOptions\n) {\n  const input = createInput({ accept, capture, selectionMode });\n\n  input.addEventListener(\n    'change',\n    () => {\n      callback(input.files as FileList);\n    },\n    { once: true }\n  );\n\n  input.click();\n}\n\nconst createInput = (fileOptions: Required<FileOptions>) => {\n  const input = document.createElement('input');\n  input.type = 'file';\n  if (fileOptions?.capture && fileOptions.capture != 'none') {\n    input.capture = fileOptions.capture;\n  }\n  input.accept = fileOptions.accept.join(',');\n  input.multiple = fileOptions.selectionMode === 'multiple';\n  input.style.display = 'none';\n  return input;\n};\n"],"names":["createInput","fileOptions","input","document","createElement","type","capture","accept","join","multiple","selectionMode","style","display","callback","addEventListener","files","once","click"],"mappings":"4CAyBA,MAAMA,EAAeC,IACnB,MAAMC,EAAQC,SAASC,cAAc,SAQrC,OAPAF,EAAMG,KAAO,QACTJ,MAAAA,SAAAA,EAAaK,UAAkC,QAAvBL,EAAYK,UACtCJ,EAAMI,QAAUL,EAAYK,SAE9BJ,EAAMK,OAASN,EAAYM,OAAOC,KAAK,KACvCN,EAAMO,SAAyC,aAA9BR,EAAYS,cAC7BR,EAAMS,MAAMC,QAAU,OACfV,wBAzBPW,GACAN,OAAEA,EAAS,GAAXD,QAAeA,EAAU,OAAzBI,cAAiCA,EAAgB,WAEjD,MAAMR,EAAQF,EAAY,CAAEO,OAAAA,EAAQD,QAAAA,EAASI,cAAAA,IAE7CR,EAAMY,iBACJ,SACA,KACED,EAASX,EAAMa,QAEjB,CAAEC,MAAM,IAGVd,EAAMe"}