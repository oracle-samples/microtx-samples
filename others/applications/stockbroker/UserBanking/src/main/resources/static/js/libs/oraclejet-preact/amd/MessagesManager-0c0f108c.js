define(["exports","preact/jsx-runtime","preact","preact/hooks","./PRIVATE_TransitionGroup","./tslib.es6-42e4f430","./hooks/UNSAFE_useAnimation","./hooks/UNSAFE_useMessagesContext","./useAnimation-1a52f0c4"],function(n,e,i,t,a,r,s,o,l){"use strict";const u={};function c(n){var{animationStates:i=u,initialAnimationStyles:s,onEntering:c,onExiting:d}=n,g=r.__rest(n,["animationStates","initialAnimationStyles","onEntering","onExiting"]);const[v,m]=t.useState("entering"),x=t.useRef(),y=t.useRef(),{controller:S,nodeRef:f}=l.useAnimation(v,{animationStates:i,isAnimatedOnMount:!0,onAnimationEnd:t.useCallback(()=>{var n,e;null===(n=x.current)||void 0===n||n.call(x),x.current=void 0,null===(e=y.current)||void 0===e||e.call(y),y.current=void 0},[])}),{addBusyState:A}=o.useMessagesContext(),E=t.useCallback((n,e,t)=>{var a;x.current&&(x.current=void 0,S.cancel()),null===(a=y.current)||void 0===a||a.call(y),y.current=void 0,null==c||c(n,void 0,t),m("entering"),void 0!==i.entering||void 0!==i["exiting => entering"]?(x.current=e,y.current=null==A?void 0:A("messages animating")):null==e||e()},[i,S,A,c]),k=t.useCallback((n,e,t)=>{var a;x.current&&(x.current=void 0,S.cancel()),null===(a=y.current)||void 0===a||a.call(y),y.current=void 0,null==d||d(n,void 0,t),m("exiting"),void 0!==i.exiting||void 0!==i["entering => exiting"]?(x.current=e,y.current=null==A?void 0:A("messages animating")):null==e||e()},[i,S,A,d]);return t.useLayoutEffect(()=>()=>{var n;return null===(n=y.current)||void 0===n?void 0:n.call(y)},[]),e.jsx("div",Object.assign({ref:f,style:s},{children:e.jsx(a.Transition,Object.assign({},g,{onEntering:E,onExiting:k}))}))}n.MessagesManager=function({data:n,animationStates:r,children:s,initialAnimationStyles:o,onMessageWillRemove:l}){const u=t.useCallback(async(n,e)=>{e&&(null==l||l(e.key,e.index,n))},[l]);return e.jsx(a.TransitionGroup,Object.assign({elementType:i.Fragment},{children:n.map((n,i)=>e.jsx(c,Object.assign({animationStates:r,initialAnimationStyles:o,metadata:{index:i,key:n.key},onExited:u},{children:null==s?void 0:s({index:i,item:n})}),n.key))}))}});
//# sourceMappingURL=MessagesManager-0c0f108c.js.map
