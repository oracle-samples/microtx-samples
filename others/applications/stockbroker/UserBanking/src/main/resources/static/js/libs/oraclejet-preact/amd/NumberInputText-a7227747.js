define(["exports","preact/jsx-runtime","preact","preact/compat","preact/hooks","./hooks/UNSAFE_useFocusableTextField","./hooks/UNSAFE_useFormContext","./hooks/UNSAFE_useFormFieldContext","./hooks/UNSAFE_useHover","./hooks/UNSAFE_useTextField","./UNSAFE_Label","./hooks/UNSAFE_usePrefixSuffix","./UNSAFE_TextField","./UNSAFE_UserAssistance","./utils/PRIVATE_clientHints","./hooks/UNSAFE_useToggle","./UNSAFE_Button","./index-696f9e7b","./hooks/UNSAFE_useTabbableMode","./hooks/UNSAFE_useTranslationBundle","./Button-097e23fc","./UNSAFE_Grid","./hooks/UNSAFE_useCurrentValueReducer","./ReadonlyTextFieldInput-8040cb97","./TextFieldInput-428b8905","./clientHints-45edd40b"],function(e,s,n,t,i,a,r,o,l,u,d,c,p,b,x,f,v,h,S,F,g,m,A,y,D,C){"use strict";function j({direction:e,isDisabled:n,onStep:t,variant:a}){const r=F.useTranslationBundle("@oracle/oraclejet-preact"),o=r.inputNumber_increase(),l=r.inputNumber_decrease(),u="increase"===e?o:l,d=i.useCallback(()=>{null==t||t({direction:e})},[t,e]),c="arrowup"===a?s.jsx(h.SvgIcoChevronUp,{}):s.jsx(h.SvgIcoChevronDown,{});return s.jsx(S.TabbableModeContext.Provider,Object.assign({value:{isTabbable:!1}},{children:s.jsx(g.Button,{display:"icons",isDisabled:n,title:u,onAction:d,startIcon:c,variant:"borderless"})}))}function T({children:e}){return s.jsx(m.Grid,Object.assign({align:"center",gap:"1x",gridTemplateColumns:"1fr 1fr"},{children:e}))}const U=t.forwardRef(({ariaDescribedBy:e,ariaValueMax:t,ariaValueMin:x,ariaValueNow:v,ariaValueText:h,assistiveText:S,autoComplete:F="off",autoFocus:g=!1,helpSourceLink:m,helpSourceText:C,isDisabled:U,isReadonly:w,isRequired:E=!1,isRequiredShown:R,isStepDownDisabled:I,isStepUpDisabled:N,hasSteppers:P=!1,label:_,labelEdge:V,labelStartWidth:B,messages:L,placeholder:O,prefix:M,suffix:H,textAlign:q,userAssistanceDensity:K,value:W,variant:G="default",virtualKeyboard:z,onInput:J,onCommit:Q,onSpin:X,onSpinComplete:Y,onStep:Z},$)=>{const{currentCommitValue:ee,dispatch:se}=A.useCurrentValueReducer({value:W}),ne=i.useCallback(e=>{se({type:"input",payload:e.value}),null==J||J(e)},[J,se]),te=i.useCallback(e=>{se({type:"commit",payload:e.value}),null==Q||Q(e)},[Q,se]),{isDisabled:ie,isReadonly:ae,labelEdge:re,labelStartWidth:oe,textAlign:le,userAssistanceDensity:ue}=r.useFormContext(),de=null!=U?U:ie,ce=null!=w?w:ae,pe=null!=V?V:re,be=null!=B?B:oe,xe=null!=q?q:le,fe=null!=K?K:ue,{enabledElementRef:ve,focusProps:he,isFocused:Se,readonlyElementRef:Fe}=a.useFocusableTextField({isDisabled:de,isReadonly:ce,ref:$}),{hoverProps:ge}=l.useHover({isDisabled:ce||de||!1}),{baseId:me,formFieldContext:Ae,inputProps:ye,labelProps:De,textFieldProps:Ce,userAssistanceProps:je}=u.useTextField({ariaDescribedBy:e,isDisabled:de,isFocused:Se,isReadonly:ce,labelEdge:pe,messages:L,styleVariant:G,value:W}),Te=de||I,Ue=de||N,{steppers:ke,stepHandlerProps:we}=(({hasSteppers:e,inputRef:n,isStepDownDisabled:t,isStepUpDisabled:a,onSpin:r,onSpinComplete:o,onStep:l})=>{const{bool:u,setTrue:d,setFalse:c}=f.useToggle(!1),{bool:p,setTrue:b,setFalse:x}=f.useToggle(!1),v=i.useRef(null),h=i.useRef(null),S=i.useRef("increase"),F=i.useRef(!1),g=i.useCallback(e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),e.stopPropagation(),u||"ArrowDown"===e.key&&t||"ArrowUp"===e.key&&a||(S.current="ArrowDown"===e.key?"decrease":"increase",d(),null==l||l({direction:S.current})))},[u,l,t,a,d]),m=i.useCallback(e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key||(p&&(F.current=!0),c(),x(),e.stopPropagation())},[p,c,x]);i.useEffect(()=>(u&&!v.current&&(v.current=setTimeout(()=>{b()},500)),()=>{v.current&&(clearTimeout(v.current),v.current=null)}),[u,b]),i.useEffect(()=>(p?h.current||(h.current=setInterval(()=>{"increase"===S.current&&a||"decrease"===S.current&&t?(x(),F.current=!0):null==r||r({direction:S.current})},40)):h.current&&(clearInterval(h.current),h.current=null),()=>{h.current&&(clearInterval(h.current),h.current=null)}),[p,t,a,r,x]),i.useEffect(()=>{!p&&F.current&&(F.current=!1,null==o||o())},[p,o]);const A=i.useCallback(e=>{var s;null===(s=n.current)||void 0===s||s.focus(),null==l||l(e)},[l,n]),y=i.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]);return{steppers:e?s.jsxs(T,{children:[s.jsx("div",Object.assign({onMouseDown:e=>t&&y(e),"aria-hidden":"true"},{children:s.jsx(j,{direction:"decrease",isDisabled:t,onStep:A,variant:"arrowdown"})})),s.jsx("div",Object.assign({onMouseDown:e=>a&&y(e),"aria-hidden":"true"},{children:s.jsx(j,{direction:"increase",isDisabled:a,onStep:A,variant:"arrowup"})}))]}):void 0,stepHandlerProps:e?{onKeyDown:g,onKeyUp:m}:{}}})({hasSteppers:P,inputRef:ve,isStepDownDisabled:Te,isStepUpDisabled:Ue,onSpin:X,onSpinComplete:Y,onStep:Z}),{renderedPrefix:Ee,renderedSuffix:Re,text:Ie,ariaLabelledBy:Ne}=c.usePrefixSuffix({baseId:me,hasEndContent:void 0!==ke,hasInsideLabel:void 0!==_&&"inside"===pe,hasStartContent:!1,hasValue:Ae.hasValue,isDisabled:de,isFocused:Se,labelId:De.id,prefix:M,suffix:H,value:W}),Pe="none"!==pe?s.jsx(d.Label,Object.assign({},De,{children:_})):void 0,_e={label:"none"!==pe?Pe:void 0,labelEdge:"none"!==pe?pe:void 0,labelStartWidth:"none"!==pe?be:void 0},Ve="none"===pe?_:void 0,Be=de||ce?"efficient"!==fe?void 0:s.jsx(b.InlineUserAssistance,Object.assign({userAssistanceDensity:fe},je)):s.jsx(b.InlineUserAssistance,Object.assign({assistiveText:S,fieldLabel:_,helpSourceLink:m,helpSourceText:C,messages:L,isRequiredShown:R,userAssistanceDensity:fe},je));if(ce)return s.jsx(o.FormFieldContext.Provider,Object.assign({value:Ae},{children:s.jsx(p.ReadonlyTextField,Object.assign({role:"presentation",inlineUserAssistance:Be,onBlur:he.onfocusout,onFocus:he.onfocusin},_e,{children:s.jsx(y.ReadonlyTextFieldInput,{ariaDescribedBy:e,ariaLabel:Ve,ariaLabelledBy:De.id,as:"div",autoFocus:g,elementRef:Fe,textAlign:xe,value:Ie,hasInsideLabel:void 0!==_&&"inside"===pe})}))}));const Le=void 0===v||v.toString()!==h?h:void 0,Oe=s.jsxs(n.Fragment,{children:[Ee,s.jsx(D.TextFieldInput,Object.assign({ariaLabelledBy:Ne,ariaLabel:Ve,ariaValueMax:t,ariaValueMin:x,ariaValueNow:v,ariaValueText:Le,autoComplete:F,autoFocus:g,currentCommitValue:ee,hasEndContent:void 0!==ke,hasInsideLabel:void 0!==Pe&&"inside"===pe,hasPrefix:void 0!==Ee,hasStartContent:!1,hasSuffix:void 0!==Re,inputRef:ve,isRequired:E,placeholder:O,role:P?"spinbutton":void 0,textAlign:xe,type:k()?z:void 0,value:de?Ie:W,onCommit:te,onInput:ne},ye,we)),Re]});return s.jsx(o.FormFieldContext.Provider,Object.assign({value:Ae},{children:s.jsx(p.TextField,Object.assign({endContent:ke,inlineUserAssistance:Be,mainContent:Oe,onBlur:he.onfocusout,onFocus:he.onfocusin},Ce,_e,ge))}))});function k(){const e=C.getClientHints().deviceType;return"phone"===e||"tablet"===e}e.NumberInputText=U});
//# sourceMappingURL=NumberInputText-a7227747.js.map
