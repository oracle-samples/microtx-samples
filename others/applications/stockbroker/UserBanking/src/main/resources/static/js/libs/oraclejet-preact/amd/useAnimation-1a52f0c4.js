define(["exports","preact/hooks","./tslib.es6-42e4f430"],function(t,e,n){"use strict";function r(t){if(!t)return{};const{translateX:e,translateY:r,translateZ:s,rotateX:a,rotateY:c,rotateZ:o,scaleX:u,scaleY:i,scaleZ:l,skewX:f,skewY:$}=t,d=n.__rest(t,["translateX","translateY","translateZ","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skewX","skewY"]),g=`${t.transform||""}${function(t,e,n){return`${t?` translateX(${t})`:""}${e?` translateY(${e})`:""}${n?` translateZ(${n})`:""}`}(e,r,s)}${function(t,e,n){return`${t?` rotateX(${t})`:""}${e?` rotateY(${e})`:""}${n?` rotateZ(${n})`:""}`}(a,c,o)}${function(t,e,n){return`${t||0===t?` scaleX(${t})`:""}${e||0===e?` scaleY(${e})`:""}${n||0===n?` scaleZ(${n})`:""}`}(u,i,l)}${function(t,e){return`${t?` skewX(${t})`:""}${e?` skewY(${e})`:""}`}(f,$)}`;return Object.assign(Object.assign({},d),g&&{transform:g})}function s(t){if(!t)return{};const e=r(t),{offset:s}=e,a=n.__rest(e,["offset"]);return Object.assign(Object.assign({},a),s&&{cssOffset:s})}t.useAnimation=function(t,{animationStates:n,isAnimatedOnMount:a=!1,onAnimationEnd:c=(()=>{})}){const o=e.useRef(!1),u=e.useRef(null),i=e.useRef(),l=e.useRef(),f=e.useRef(n);e.useEffect(()=>{var e;if(i.current===t)return;const n=i.current;var $,d,g;i.current=t,"running"===(null===(e=l.current)||void 0===e?void 0:e.playState)&&($=l.current,d=u.current,((null==(g=d)?void 0:g.offsetWidth)||(null==g?void 0:g.offsetHeight)||(null==g?void 0:g.getClientRects().length))&&$.commitStyles(),$.cancel());const b=u.current;if(!b)return;if(!o.current&&(o.current=!0,!a))return;const X=function(t,e,n,r){const s=t[`${r} => ${n}`]||t[n],a="function"==typeof s?s(e):s;return a&&Object.keys(a).length>0?a:null}(f.current,b,t,n);X&&(l.current=function(t,e,n,a){const{delay:c,duration:o,easing:u}=t.options||{},i={delay:c||0,duration:o||400,easing:u?"string"==typeof u?u:`cubic-bezier(${u[0]}, ${u[1]}, ${u[2]}, ${u[3]})`:"ease"},l=e.animate([s(t.from),s(t.to)],Object.assign({},i));return l.onfinish=()=>{!function(t,e,n){const s=e?Object.assign(Object.assign({},r(n.to)),r(n.end)):r(n.end);for(const e in s)t.style[e]=s[e]}(e,!0,t),null==a||a({animationState:n})},l}(X,b,t,c))},[t,a,c]);const $=e.useCallback(()=>{const t=l.current;"running"===(null==t?void 0:t.playState)&&t.cancel()},[]);return{nodeRef:e.useCallback(t=>{var e;t!=u.current&&(u.current&&(null===(e=l.current)||void 0===e||e.cancel(),l.current=void 0),u.current=t)},[]),controller:{cancel:$}}}});
//# sourceMappingURL=useAnimation-1a52f0c4.js.map
