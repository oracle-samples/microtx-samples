define("oj-c/editable-value/UNSAFE_useAssistiveText/useAssistiveText",["require","exports","preact/hooks"],(function(require,e,t){"use strict";function a(e,t,a,n,r){return(null==e?void 0:e.instruction)||("none"===(null==r?void 0:r.validatorHint)?void 0:t)||(null==a?void 0:a.definition)||("none"===(null==r?void 0:r.converterHint)?void 0:n)}function n(e){if(!e.length)return;return e.map((e=>"function"==typeof e.getHint?e.getHint():void 0)).filter(Boolean).join("\n")}Object.defineProperty(e,"__esModule",{value:!0}),e.useAssistiveText=void 0,e.useAssistiveText=function({addBusyState:e,converter:r,displayOptions:s,help:i,helpHints:o,validators:l}){var u,d;const[c,f]=(0,t.useState)(l&&l.length?n(l):void 0),v=(0,t.useRef)();return(0,t.useEffect)((()=>{if(!l||!l.length)return void f(void 0);f(n(l));const t=l.map((e=>e.hint)).filter(Boolean),a=v.current=Symbol(),r=null==e?void 0:e("resolving the async validator hints");Promise.allSettled(t).then((e=>{f((t=>{const n=e.map((e=>"fulfilled"===e.status?e.value:void 0)).filter(Boolean);return a===v.current&&n.length?[t,...n].join("\n"):t})),null==r||r()}))}),[l]),{assistiveText:a(i,c,o,null!==(d=null===(u=null==r?void 0:r.getHint)||void 0===u?void 0:u.call(r))&&void 0!==d?d:void 0,s),helpSourceLink:null==o?void 0:o.source,helpSourceText:null==o?void 0:o.sourceText}}})),define("oj-c/editable-value/utils/utils",["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isShallowEqual=e.normalizeValue=e.treatNull=e.createMessageFromError=void 0,e.createMessageFromError=function(e){return"function"==typeof e.getMessage?{severity:"error",detail:e.getMessage().detail}:{severity:"error",detail:e.message}},e.treatNull=function(e,t){return null===e?t:e},e.normalizeValue=function(e){return"string"==typeof e&&""===e?null:e};e.isShallowEqual=(e,t)=>e===t||e.length===t.length&&e.every(((e,a)=>e===t[a]))})),define("oj-c/editable-value/UNSAFE_useComponentMessaging/useComponentMessaging",["require","exports","@oracle/oraclejet-preact/hooks/UNSAFE_useUncontrolledState","preact/hooks","../utils/utils"],(function(require,e,t,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useComponentMessaging=void 0,e.useComponentMessaging=function({messagesCustom:e=[],onMessagesCustomChanged:r}){const[s,i]=(0,t.useUncontrolledState)(e,r),[o,l]=(0,a.useState)([]),[u,d]=(0,a.useState)([]),c=(0,a.useRef)(e),f=(0,a.useCallback)(((...e)=>{l((t=>[...t,...e]))}),[]),v=(0,a.useCallback)((e=>{l((t=>[...t,e]))}),[]),p=(0,a.useCallback)((()=>{l([]),d([])}),[]),m=(0,a.useCallback)((()=>{d([])}),[]),g=(0,a.useCallback)((()=>{l([]),d([]),i([])}),[]),b=(0,a.useCallback)((()=>s.some((e=>"error"===e.severity))),[s]),h=(0,a.useCallback)((()=>0===o.length&&0===u.length&&!1===b()),[o,u,b]),y=(0,a.useCallback)((()=>0!==u.length),[u]),V=(0,a.useCallback)((()=>{l((e=>[...e,...u])),d([])}),[u]);return(0,a.useEffect)((()=>{c.current!==e&&(c.current=e,(0,n.isShallowEqual)(s,e)||i(e))}),[s,e]),(0,a.useMemo)((()=>({componentMessages:o,deferredComponentMessages:u,messagesCustom:s,visibleMessages:[...s,...o],addComponentMessage:f,addDeferredComponentMessage:v,clearAllComponentMessages:p,clearAllMessages:g,clearDeferredComponentMessages:m,hasCustomErrorMessages:b,hasHiddenMessages:y,hasNoErrorMessages:h,setComponentMessages:l,setDeferredComponentMessages:d,showHiddenMessages:V})),[o,u,s,b,y,h,V])}})),define("oj-c/editable-value/UNSAFE_useConverter/useConverter",["require","exports","ojs/ojconverter-nativenumber","preact/hooks","@oracle/oraclejet-preact/hooks/UNSAFE_useTranslationBundle","../utils/utils"],(function(require,e,t,a,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useConverter=e.ConverterErrorSymbol=void 0,e.ConverterErrorSymbol=Symbol("ConverterError"),e.useConverter=function({componentMessagingState:s,validationState:i,converter:o}){const l=(0,n.useTranslationBundle)("@oracle/oraclejet-preact").inputNumber_converterParseError(),u=(0,a.useCallback)((a=>{if(!o||(""===(n=a)||null===n))return a;var n;try{return o.parse(a)}catch(a){const n=(null==a?void 0:a.cause)===t.USER_INPUT_ERROR?{severity:"error",detail:l}:(0,r.createMessageFromError)(a);return s.setComponentMessages([n]),i.setValid("invalidShown"),e.ConverterErrorSymbol}}),[o,s,i]),d=(0,a.useCallback)(((e,t=!1)=>{var a;if(!o||function(e){return null===e}(e))return null!==(a=(0,r.treatNull)(e,""))&&void 0!==a?a:"";try{return o.format(e)}catch(a){return t||(s.setComponentMessages([(0,r.createMessageFromError)(a)]),i.setValid("invalidShown")),(0,r.treatNull)(e,"")}}),[o,s,i]);return(0,a.useMemo)((()=>({format:d,parse:u})),[d,u])}})),define("oj-c/editable-value/UNSAFE_useConverterLifecycle/useConverterLifecycle",["require","exports","preact/hooks"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useConverterLifecycle=void 0,e.useConverterLifecycle=function({converter:e,validationState:a,refreshDisplayValue:n,runFullValidationAndUpdateValue:r}){const s=(0,t.useRef)(e);(0,t.useEffect)((()=>{if(s.current===e)return;s.current=e;const{valid:t}=a;if("invalidShown"===t)r();else n()}),[e,a,n,r])}}));var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};define("oj-c/editable-value/UNSAFE_useDeferredValidators/useDeferredValidators",["require","exports","ojs/ojvalidator-required","preact/hooks"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useDeferredValidators=void 0,t=__importDefault(t),e.useDeferredValidators=function({labelHint:e,required:n,requiredMessageDetail:r}){const s=(0,a.useMemo)((()=>n?new t.default({label:e,messageDetail:r}):null),[n]);return(0,a.useMemo)((()=>[s].filter(Boolean)),[s])}})),define("oj-c/editable-value/UNSAFE_useStaleIdentity/useStaleIdentity",["require","exports","preact/hooks"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useStaleIdentity=void 0,e.useStaleIdentity=function(){const e=(0,t.useRef)(new Map);return{setStaleIdentity:(0,t.useCallback)((t=>{const a=Symbol();return e.current.set(t,a),{isStale:()=>a!==e.current.get(t)}}),[])}}}));var __awaiter=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,o)}l((n=n.apply(e,t||[])).next())}))};define("oj-c/editable-value/UNSAFE_useValidators/useValidators",["require","exports","@oracle/oraclejet-preact/hooks/UNSAFE_useUncontrolledState","preact/hooks","../UNSAFE_useStaleIdentity/useStaleIdentity","../utils/utils"],(function(require,e,t,a,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useValidators=e.ValidationResult=void 0,e.ValidationResult={VALID:"VALID",INVALID:"INVALID",STALE:"STALE"},e.useValidators=function({componentMessagingState:s,defaultValidState:i,deferredValidators:o=[],validators:l=[],addBusyState:u,onValidChanged:d}){const[c,f]=(0,t.useUncontrolledState)(i,d),{setStaleIdentity:v}=(0,n.useStaleIdentity)();(0,a.useLayoutEffect)((()=>{void 0!==i&&(null==d||d(i))}),[]);const p=(0,a.useCallback)(((e,t={})=>__awaiter(this,void 0,void 0,(function*(){const{addComponentMessage:a,clearAllComponentMessages:n,clearAllMessages:i,hasCustomErrorMessages:d,setComponentMessages:c}=s,{doNotClearMessagesCustom:p=!1}=t,m=d();if(f("pending"),p?n():i(),0===l.length&&0===o.length)return f(m&&p?"invalidShown":"valid"),!0;const g=[],b=[];for(const t of[...o,...l])try{const a=t.validate(e);a instanceof Promise&&b.push(a.then((()=>{}),(e=>(0,r.createMessageFromError)(e))))}catch(e){g.push((0,r.createMessageFromError)(e))}if(!g.length&&!b.length)return f(m&&p?"invalidShown":"valid"),!0;const h=0!==g.length;if(h&&(c(g),f("invalidShown")),!b.length)return!h;const y=null==u?void 0:u("running validation"),{isStale:V}=v("useValidators-validate");let C=!1;for(const e of b){const t=yield e;t&&!V()&&(a(t),f("invalidShown"),C=!0)}return h||C||V()||f(m&&p?"invalidShown":"valid"),null==y||y(),!h&&!C}))),[s,o,l]),m=(0,a.useCallback)((e=>{const t=[];for(const a of o)try{a.validate(e)}catch(e){t.push((0,r.createMessageFromError)(e))}if(t.length)return t}),[o]),g=(0,a.useCallback)(((t,a={})=>__awaiter(this,void 0,void 0,(function*(){const{isStale:n}=v("useValidationLifeCycle-validateValueOnInternalChange"),r=null==u?void 0:u("running validateValueOnInternalChange"),s=yield p(t,a);return null==r||r(),n()?e.ValidationResult.STALE:s?e.ValidationResult.VALID:e.ValidationResult.INVALID}))),[u,p]),b=(0,a.useCallback)((t=>{const{clearAllMessages:a,setDeferredComponentMessages:n}=s;a();const r=m(t);return r?(n(r),f("invalidHidden")):f("valid"),e.ValidationResult.VALID}),[s,m]);return(0,a.useMemo)((()=>({valid:c,setValid:f,deferredValidate:m,fullValidate:p,validateValueOnExternalChange:b,validateValueOnInternalChange:g})),[c,m,p,b,g])}}));__awaiter=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,o)}l((n=n.apply(e,t||[])).next())}))};define("oj-c/editable-value/UNSAFE_useValidationLifecycle/useValidationLifecycle",["require","exports","preact/hooks","../UNSAFE_useConverter/useConverter","../UNSAFE_useValidators/useValidators","../utils/utils"],(function(require,e,t,a,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useValidationLifecycle=void 0,e.useValidationLifecycle=function({componentMessagingState:e,deferredValidators:s,validationState:i,validators:o,getValueForValidation:l,setValueAfterValidation:u}){const d=(0,t.useRef)(s),c=(0,t.useRef)(o),f=(0,t.useRef)(e.messagesCustom),v=(0,t.useCallback)((()=>__awaiter(this,void 0,void 0,(function*(){const{valid:e,validateValueOnInternalChange:t}=i,r=l(e);if(r===a.ConverterErrorSymbol)return;(yield t(r,{doNotClearMessagesCustom:!0}))===n.ValidationResult.VALID&&u(r)}))),[i,l,u]);return(0,t.useEffect)((()=>{const t=l("valid");if(t===a.ConverterErrorSymbol)return;const{deferredValidate:n,setValid:r}=i,{hasCustomErrorMessages:s,setDeferredComponentMessages:o}=e,u=n(t);u&&(o(u),r("invalidHidden")),s()&&r("invalidShown")}),[]),(0,t.useEffect)((()=>{if(d.current===s)return;const{valid:t,deferredValidate:n,setValid:r}=i,{clearDeferredComponentMessages:o,setDeferredComponentMessages:u}=e;switch(d.current=s,t){case"valid":const e=l(t);if(e!==a.ConverterErrorSymbol){const t=n(e);t&&(u(t),r("invalidHidden"))}break;case"invalidHidden":0===s.length&&(r("valid"),o());break;case"invalidShown":v()}}),[s,e,i,l,v]),(0,t.useEffect)((()=>{if(c.current!==o&&(c.current=o,"invalidShown"===i.valid))v()}),[o,i]),(0,t.useEffect)((()=>{if((0,r.isShallowEqual)(f.current,e.messagesCustom))return;const{messagesCustom:t,hasCustomErrorMessages:a,hasHiddenMessages:n,hasNoErrorMessages:s}=e,{valid:o,setValid:l}=i;if(f.current=t,a())l("invalidShown");else{if("pending"===o)return;s()?l("valid"):n()&&l("invalidHidden")}}),[e,i]),{runFullValidationAndUpdateValue:v}}})),define("oj-c/editable-value/UNSAFE_useValue/useValue",["require","exports","@oracle/oraclejet-preact/hooks/UNSAFE_useUncontrolledState","preact/hooks","../utils/utils"],(function(require,e,t,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useValue=void 0,e.useValue=function({value:e,format:r,parse:s,onRawValueChanged:i,onTransientValueChanged:o,onValueChanged:l}){const[u,d]=(0,t.useUncontrolledState)(r(e,!0),i),[c,f]=(0,t.useUncontrolledState)(e,l);(0,a.useEffect)((()=>{void 0!==u&&(null==i||i(u))}),[]);const[v,p]=(0,t.useUncontrolledState)(e,o);return(0,a.useEffect)((()=>{void 0!==e&&(null==o||o(e))}),[]),{displayValue:u,transientValue:v,value:c,getValueForValidation:(0,a.useCallback)((e=>"invalidShown"!==e?c:s((0,n.normalizeValue)(u))),[u,c,s]),setValueAfterValidation:(0,a.useCallback)((e=>{f(e),d(r(e))}),[r]),setDisplayValue:d,setTransientValue:p,setValue:f,refreshDisplayValue:(0,a.useCallback)((()=>{d(r(c))}),[c,r])}}})),define("oj-c/editable-value/UNSAFE_useValueLifecycle/useValueLifecycle",["require","exports","preact/hooks","../UNSAFE_useValidators/useValidators"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useValueLifecycle=void 0,e.useValueLifecycle=function({value:e,valueState:n,format:r,validateValueOnExternalChange:s}){const i=(0,t.useRef)(e);(0,t.useEffect)((()=>{const{value:e,setDisplayValue:t}=n;t(r(e))}),[]),(0,t.useEffect)((()=>{if(i.current!==e&&(i.current=e,void 0!==e&&e!==n.value)){const{setDisplayValue:t,setValue:i}=n;s(e)===a.ValidationResult.VALID&&(i(e),t(r(e)))}}),[e,n,r])}}));__awaiter=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,o)}l((n=n.apply(e,t||[])).next())}))};define("oj-c/editable-value/UNSAFE_useEditableValue/useEditableValue",["require","exports","preact/hooks","../UNSAFE_useComponentMessaging/useComponentMessaging","../UNSAFE_useConverter/useConverter","../UNSAFE_useConverterLifecycle/useConverterLifecycle","../UNSAFE_useDeferredValidators/useDeferredValidators","../UNSAFE_useValidationLifecycle/useValidationLifecycle","../UNSAFE_useValidators/useValidators","../UNSAFE_useValue/useValue","../UNSAFE_useValueLifecycle/useValueLifecycle","../utils/utils"],(function(require,e,t,a,n,r,s,i,o,l,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useEditableValue=void 0,e.useEditableValue=function({ariaDescribedBy:e,converter:c,displayOptions:f,implicitComponentValidator:v,labelHint:p,messagesCustom:m,required:g,requiredMessageDetail:b,shouldNormalizeValueOnCommit:h=!0,validators:y,value:V,addBusyState:C,onMessagesCustomChanged:_,onRawValueChanged:S,onValidChanged:M,onValueChanged:x,onTransientValueChanged:E,wrapValueState:w}){const j=(0,a.useComponentMessaging)({messagesCustom:m,onMessagesCustomChanged:_}),{clearAllMessages:R,visibleMessages:A}=j,D=(0,s.useDeferredValidators)({labelHint:p,required:g,requiredMessageDetail:b}),N=v?y?[v,...y]:[v]:y,O=(0,o.useValidators)({componentMessagingState:j,defaultValidState:"valid",deferredValidators:D,validators:N,addBusyState:C,onValidChanged:M}),{validateValueOnExternalChange:F,validateValueOnInternalChange:k}=O,{format:U,parse:I}=(0,n.useConverter)({componentMessagingState:j,converter:c,validationState:O}),P=(0,l.useValue)({value:V,format:U,parse:I,onRawValueChanged:S,onTransientValueChanged:E,onValueChanged:x}),L=w?w(P):P,{displayValue:T,value:q,getValueForValidation:H,setValueAfterValidation:B,refreshDisplayValue:W,setDisplayValue:z,setTransientValue:K,setValue:$}=L,{runFullValidationAndUpdateValue:G}=(0,i.useValidationLifecycle)({componentMessagingState:j,validationState:O,deferredValidators:D,validators:y,getValueForValidation:H,setValueAfterValidation:B});(0,r.useConverterLifecycle)({converter:c,validationState:O,refreshDisplayValue:W,runFullValidationAndUpdateValue:G}),(0,u.useValueLifecycle)({value:V,valueState:L,format:U,validateValueOnExternalChange:F});const Y=(0,t.useCallback)((e=>I(h?(0,d.normalizeValue)(e):e)),[h,I]),J=(0,t.useCallback)(((e,t=!0)=>__awaiter(this,void 0,void 0,(function*(){const a=yield k(e);return a===o.ValidationResult.VALID&&t&&$(e),a}))),[k]),Q=(0,t.useCallback)((({value:e})=>__awaiter(this,void 0,void 0,(function*(){const t=Y(e);if(t===n.ConverterErrorSymbol)return;const a=t;(yield J(a))===o.ValidationResult.VALID&&z(U(a))}))),[U,J,Y]),X=(0,t.useCallback)((({value:e})=>{z(null!=e?e:"")}),[]),Z=(0,t.useCallback)((()=>{R(),F(q),W()}),[q,R,W,F]),ee=(0,t.useCallback)((()=>__awaiter(this,void 0,void 0,(function*(){const{fullValidate:e}=O,{displayValue:t,value:a,setValueAfterValidation:r}=L,s=Y(t);if(s===n.ConverterErrorSymbol)return"invalid";const i=s,o=null==C?void 0:C("running component method validate"),l=yield e(i);return null==o||o(),l?(i!==a&&r(i),"valid"):"invalid"}))),[O,L,C,Y]),te=(0,t.useCallback)((()=>{const{hasHiddenMessages:e,showHiddenMessages:t}=j,{setValid:a}=O;e()&&(t(),a("invalidShown"))}),[j,O]);return{value:q,setValue:$,displayValue:T,setDisplayValue:z,setTransientValue:K,methods:{reset:Z,validate:ee,showMessages:te},textFieldProps:{messages:"none"!==(null==f?void 0:f.messages)?A:void 0,value:T,ariaDescribedBy:e,onCommit:Q,onInput:X},onCommitValue:J,format:U,normalizeAndParseValue:Y}}})),define("oj-c/input-number/useImplicitNumberConverter",["require","exports","ojs/ojconverter-nativenumber","preact/hooks"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useImplicitNumberConverter=void 0,e.useImplicitNumberConverter=function({converter:e}){return(0,a.useMemo)((()=>null!=e?e:new t.NumberConverter),[e])}}));__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};define("oj-c/input-number/useImplicitNumberRangeValidator",["require","exports","preact/hooks","ojs/ojvalidator-numberrange"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useImplicitNumberRangeValidator=void 0,a=__importDefault(a),e.useImplicitNumberRangeValidator=function({converter:e,max:n,min:r,numberRangeExactMessageDetail:s,numberRangeOverflowMessageDetail:i,numberRangeUnderflowMessageDetail:o}){return(0,t.useMemo)((()=>void 0!==r||void 0!==n?new a.default({converter:e,max:n,min:r,messageDetail:{exact:s,rangeOverflow:i,rangeUnderflow:o}}):null),[e,r,n])}})),define("oj-c/input-number/stepBasisUtils",["require","exports"],(function(require,e){"use strict";function t(e,t,a,n,r,s){let i=null!=s?s:n;null==i&&(i=0);try{a=parseFloat(a.toFixed(0))}catch(e){e instanceof TypeError&&(a=+a)}let o=a-i,l=Math.round(o/t)*t;l=parseFloat(l.toFixed(0));let u;if(l===o?u=a+e:(o=e<0?Math.ceil(o/t)*t:Math.floor(o/t)*t,u=i+o+e),u=parseFloat(u.toFixed(0)),null!=s&&u<s)return s;if(null!=r&&u>r){let e=Math.floor((r-i)/t)*t+i;return e=parseFloat(e.toFixed(0)),e}return u}function a(e){const t=e.toString(),a=t.indexOf(".");return-1===a?0:t.length-a-1}Object.defineProperty(e,"__esModule",{value:!0}),e.determineSteppedValue=void 0,e.determineSteppedValue=function(e,n,r,s,i,o){const l=function(e,t,n){let r=a(e);null!=n&&(r=Math.max(r,a(n)));null!=t&&(r=Math.max(r,a(t)));return r}(n,s,o);if(l>0){const a=Math.pow(10,l),u=void 0!==o?Math.round(o*a):o,d=null!=i?Math.round(i*a):i,c=Math.round(n*a);return t(Math.round(e*a),c,Math.round(r*a),null!=s?Math.round(s*a):s,d,u)/a}return t(e,n,r,s,i,o)}}));__awaiter=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,o)}l((n=n.apply(e,t||[])).next())}))};var __rest=this&&this.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};define("oj-c/input-number/useNumberInputTextPreact",["require","exports","oj-c/editable-value/UNSAFE_useEditableValue/useEditableValue","oj-c/editable-value/UNSAFE_useValidators/useValidators","./useImplicitNumberConverter","./useImplicitNumberRangeValidator","preact/hooks","oj-c/editable-value/utils/utils","./stepBasisUtils"],(function(require,e,t,a,n,r,s,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useNumberInputTextPreact=void 0,e.useNumberInputTextPreact=function(e,l){var{autocomplete:u="on",autofocus:d,converter:c,disabled:f,displayOptions:v,inputPrefix:p,inputSuffix:m,labelEdge:g,labelHint:b,labelStartWidth:h,max:y,messagesCustom:V,min:C,numberRangeExactMessageDetail:_,numberRangeOverflowMessageDetail:S,numberRangeUnderflowMessageDetail:M,placeholder:x,readonly:E,required:w,requiredMessageDetail:j,step:R,textAlign:A,userAssistanceDensity:D,validators:N,value:O,virtualKeyboard:F,onMessagesCustomChanged:k,onRawValueChanged:U,onTransientValueChanged:I,onValidChanged:P,onValueChanged:L}=e,T=__rest(e,["autocomplete","autofocus","converter","disabled","displayOptions","inputPrefix","inputSuffix","labelEdge","labelHint","labelStartWidth","max","messagesCustom","min","numberRangeExactMessageDetail","numberRangeOverflowMessageDetail","numberRangeUnderflowMessageDetail","placeholder","readonly","required","requiredMessageDetail","step","textAlign","userAssistanceDensity","validators","value","virtualKeyboard","onMessagesCustomChanged","onRawValueChanged","onTransientValueChanged","onValidChanged","onValueChanged"]);const q=(0,i.treatNull)(C),H=(0,i.treatNull)(y),B=(0,n.useImplicitNumberConverter)({converter:c}),W=(0,r.useImplicitNumberRangeValidator)({converter:B,max:H,min:q,numberRangeExactMessageDetail:_,numberRangeOverflowMessageDetail:S,numberRangeUnderflowMessageDetail:M}),{onCommitValue:z,format:K,normalizeAndParseValue:$,methods:G,textFieldProps:Y,value:J,setValue:Q,displayValue:X,setDisplayValue:Z,setTransientValue:ee}=(0,t.useEditableValue)({ariaDescribedBy:T["aria-describedby"],converter:B,displayOptions:v,implicitComponentValidator:W,messagesCustom:V,required:w,requiredMessageDetail:j,validators:N,value:O,addBusyState:l,onMessagesCustomChanged:k,onRawValueChanged:U,onTransientValueChanged:I,onValidChanged:P,onValueChanged:L}),te=void 0!==q,ae=void 0!==H,ne=(0,s.useRef)((0,i.treatNull)(O));O!==J&&(ne.current=(0,i.treatNull)(O));const[re,se]=(0,s.useState)((0,i.treatNull)(J)||void 0);(0,s.useEffect)((()=>{se((0,i.treatNull)(J)),ee(J)}),[J]);const[ie,oe]=(0,s.useState)(X||void 0);(0,s.useEffect)((()=>{if(null===J)oe(void 0);else{const e=K(J);oe(e)}}),[J,B]);const le=(0,s.useCallback)((({value:e})=>__awaiter(this,void 0,void 0,(function*(){const t=$(e),n=t;if("symbol"==typeof t)return se(void 0),void oe(e);if((yield z(n))===a.ValidationResult.VALID){const e=K(n);Z(e)}else se(n),oe(e)}))),[K,$,z]),ue=Object.assign(Object.assign({},Y),{onCommit:le}),de=(0,s.useCallback)(((e,t)=>__awaiter(this,void 0,void 0,(function*(){if(void 0===R)return;const n=$(X||"0");if("symbol"==typeof n)return;const r=n;let s;if(void 0!==e){const t="increase"===e?R:-1*R;s=(0,o.determineSteppedValue)(t,R,r,ne.current,H,q)}else s=r;(yield z(s,t))===a.ValidationResult.VALID&&ee(s);const i=K(s);Z(i),oe(i),se(s)}))),[J,X,K,$,z]),ce=(0,s.useCallback)((({direction:e})=>__awaiter(this,void 0,void 0,(function*(){de(e,!0)}))),[de]),fe=(0,s.useCallback)((({direction:e})=>__awaiter(this,void 0,void 0,(function*(){de(e,!1)}))),[de]),ve=(0,s.useCallback)((()=>__awaiter(this,void 0,void 0,(function*(){de(void 0,!0)}))),[X,$,z]);return{value:J,setValue:Q,methods:G,inputNumberProps:Object.assign({ariaValueMax:H,ariaValueMin:q,ariaValueNow:null!=re?re:void 0,ariaValueText:""!==ie?ie:void 0,autoComplete:u,autoFocus:d,hasSteppers:void 0!==R&&R>0,isDisabled:f,isReadonly:E,isRequired:w,isRequiredShown:w&&void 0===(0,i.treatNull)(J),label:b,labelEdge:g,labelStartWidth:h,onSpin:R?fe:void 0,onSpinComplete:R?ve:void 0,onStep:R?ce:void 0,placeholder:x,prefix:p,suffix:m,isStepDownDisabled:f||te&&(void 0!==re&&re<=q||""===X&&0===q),isStepUpDisabled:f||ae&&(void 0!==re&&re>=H||""===X&&0===H),textAlign:A,userAssistanceDensity:D,virtualKeyboard:F},ue)}}}));var __decorate=this&&this.__decorate||function(e,t,a,n){var r,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(i=(s<3?r(i):s>3?r(t,a,i):r(t,a))||i);return s>3&&i&&Object.defineProperty(t,a,i),i};__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};define("oj-c/input-number/input-number",["require","exports","preact/jsx-runtime","@oracle/oraclejet-preact/translationBundle","@oracle/oraclejet-preact/hooks/UNSAFE_useFormContext","@oracle/oraclejet-preact/hooks/UNSAFE_useFormVariantContext","@oracle/oraclejet-preact/hooks/UNSAFE_useTabbableMode","@oracle/oraclejet-preact/UNSAFE_NumberInputText","oj-c/editable-value/UNSAFE_useAssistiveText/useAssistiveText","ojs/ojcontext","ojs/ojvcomponent","ojs/ojvcomponent-binding","preact","preact/compat","preact/hooks","./useNumberInputTextPreact","css!oj-c/input-number/input-number-styles.css"],(function(require,e,t,a,n,r,s,i,o,l,u,d,c,f,v,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputNumber=void 0,a=__importDefault(a),l=__importDefault(l);const m=(0,f.forwardRef)(((e,a)=>{const{busyContextRef:n,converter:s,displayOptions:l,help:u,helpHints:d,validators:c}=e,f=(0,v.useRef)(),m=(0,v.useCallback)((t=>{var a;return null===(a=n.current)||void 0===a?void 0:a.addBusyState({description:`oj-c-input-number id=${e.id} is ${t}`})}),[]),{inputNumberProps:g,methods:b}=(0,p.useNumberInputTextPreact)(e,m);(0,v.useImperativeHandle)(a,(()=>Object.assign({blur:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.blur()},focus:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.focus()}},b)),[b]);const h=(0,o.useAssistiveText)({converter:s,displayOptions:l,help:u,helpHints:d,validators:c}),y=(0,r.useFormVariantContext)();return(0,t.jsx)(i.NumberInputText,Object.assign({ref:f},h,g,{variant:y}))}));let g=class extends c.Component{constructor(){super(...arguments),this.busyContextRef=(0,c.createRef)(),this.inputNumberRef=(0,c.createRef)(),this.rootRef=(0,c.createRef)()}componentDidMount(){this.busyContextRef.current=l.default.getContext(this.rootRef.current).getBusyContext()}render(e){const a={isFormLayout:void 0!==e.containerReadonly,isReadonly:e.containerReadonly,labelWrapping:e.labelWrapping};if(void 0!==e.step&&e.step<0)throw new Error("step must be a positive number");if(null!=e.min&&null!=e.max&&e.max<e.min)throw new Error("max cannot be less than min");return(0,t.jsx)(u.Root,Object.assign({id:e.id,ref:this.rootRef},{children:(0,t.jsx)(n.FormContext.Provider,Object.assign({value:a},{children:(0,t.jsx)(m,Object.assign({busyContextRef:this.busyContextRef,ref:this.inputNumberRef},e))}))}))}componentWillUnmount(){this.busyContextRef.current=null}reset(){var e;null===(e=this.inputNumberRef.current)||void 0===e||e.reset()}showMessages(){var e;null===(e=this.inputNumberRef.current)||void 0===e||e.showMessages()}validate(){var e;return null===(e=this.inputNumberRef.current)||void 0===e?void 0:e.validate()}blur(){var e;null===(e=this.inputNumberRef.current)||void 0===e||e.blur()}focus(){var e;null===(e=this.inputNumberRef.current)||void 0===e||e.focus()}};g.defaultProps={autocomplete:"on",converter:null,disabled:!1,displayOptions:{converterHint:"display",messages:"display",validatorHint:"display"},help:{instruction:""},helpHints:{definition:"",source:"",sourceText:void 0},messagesCustom:[],readonly:!1,required:!1,userAssistanceDensity:"reflow",validators:[],value:null,virtualKeyboard:"auto"},g._metadata={properties:{autocomplete:{type:"string"},containerReadonly:{type:"boolean",binding:{consume:{name:"containerReadonly"}}},converter:{type:"object|null"},disabled:{type:"boolean"},displayOptions:{type:"object",properties:{converterHint:{type:"string",enumValues:["display","none"]},messages:{type:"string",enumValues:["display","none"]},validatorHint:{type:"string",enumValues:["display","none"]}}},help:{type:"object",properties:{instruction:{type:"string"}}},helpHints:{type:"object",properties:{definition:{type:"string"},source:{type:"string"},sourceText:{type:"string"}}},inputPrefix:{type:"string"},inputSuffix:{type:"string"},labelEdge:{type:"string",enumValues:["start","none","top","inside"],binding:{consume:{name:"containerLabelEdge"}}},labelHint:{type:"string"},labelStartWidth:{type:"string",binding:{consume:{name:"labelWidth"}}},labelWrapping:{type:"string",enumValues:["wrap","truncate"],binding:{consume:{name:"labelWrapping"}}},max:{type:"number|null"},min:{type:"number|null"},messagesCustom:{type:"Array<object>",writeback:!0},numberRangeExactMessageDetail:{type:"string"},numberRangeOverflowMessageDetail:{type:"string"},numberRangeUnderflowMessageDetail:{type:"string"},placeholder:{type:"string"},readonly:{type:"boolean",binding:{consume:{name:"containerReadonly"}}},required:{type:"boolean"},requiredMessageDetail:{type:"string"},step:{type:"number"},textAlign:{type:"string",enumValues:["start","right","end"]},userAssistanceDensity:{type:"string",enumValues:["reflow","efficient"],binding:{consume:{name:"containerUserAssistanceDensity"}}},validators:{type:"Array<object>|null"},value:{type:"number|null",writeback:!0},virtualKeyboard:{type:"string",enumValues:["number","text","auto"]},rawValue:{type:"string",readOnly:!0,writeback:!0},transientValue:{type:"number",readOnly:!0,writeback:!0},valid:{type:"string",enumValues:["valid","pending","invalidHidden","invalidShown"],readOnly:!0,writeback:!0}},extension:{_WRITEBACK_PROPS:["messagesCustom","rawValue","transientValue","valid","value"],_READ_ONLY_PROPS:["rawValue","transientValue","valid"],_OBSERVED_GLOBAL_PROPS:["aria-describedby","autofocus","id"]},methods:{reset:{},showMessages:{},validate:{},blur:{},focus:{}}},g._translationBundleMap={"@oracle/oraclejet-preact":a.default},g._consumedContexts=[r.FormVariantContext,s.TabbableModeContext],g=__decorate([(0,u.customElement)("oj-c-input-number")],g),e.InputNumber=g}));
//# sourceMappingURL=input-number.js.map