define(["exports","preact/jsx-runtime","preact","preact/compat","./hooks/UNSAFE_useFormContext","./hooks/UNSAFE_useFormFieldContext","./hooks/UNSAFE_useFocusableTextField","./UNSAFE_Label","./UNSAFE_TextField","./hooks/UNSAFE_useTextField","./UNSAFE_UserAssistance","./hooks/UNSAFE_useLengthFilter",'module',"./utils/UNSAFE_classNames","preact/hooks","./hooks/UNSAFE_usePress","./classNames-e842f86a","./hooks/UNSAFE_useCurrentValueReducer","./ReadonlyTextFieldInput-8040cb97","./TextFieldInput-428b8905"],function(e,s,n,t,a,i,l,o,r,u,c,d,x,h,g,b,F,m,p,v){"use strict";const j="r5f68n",L="_1h4imu8",A="_1xletgi",f=()=>{};function C({maxLength:e,valueLength:n=0,onClick:t}){const{isFocused:a}=i.useFormFieldContext(),l=g.useCallback(e=>{e.preventDefault()},[]),o=F.classNames([!a&&L]),{pressProps:r}=b.usePress(null!=t?t:f);return s.jsx("div",Object.assign({class:j,onMouseDown:l},r,{children:s.jsxs("span",Object.assign({class:o},{children:[s.jsx("span",Object.assign({class:A},{children:n})),s.jsx("span",Object.assign({class:A},{children:"/"})),s.jsx("span",Object.assign({class:A},{children:e}))]}))}))}const y=t.forwardRef(({ariaDescribedBy:e,assistiveText:x,autoComplete:h="off",autoFocus:g=!1,helpSourceLink:b,helpSourceText:F,isDisabled:j,isReadonly:L,isRequired:A=!1,isRequiredShown:f,label:y,labelEdge:S,labelStartWidth:R,maxLength:E,maxLengthCounter:U="remaining",maxLengthUnit:k,messages:T,placeholder:O,resize:N,role:D,rows:_,textAlign:I,userAssistanceDensity:P,value:w,variant:V="default",onInput:B,onCommit:M},q)=>{const{currentCommitValue:W,dispatch:z}=m.useCurrentValueReducer({value:w}),H=t.useCallback(e=>{z({type:"input",payload:e.value}),null==B||B(e)},[B]),G=t.useCallback(e=>{z({type:"commit",payload:e.value}),null==M||M(e)},[M]),{isDisabled:J,isReadonly:K,labelEdge:Q,labelStartWidth:X,textAlign:Y,userAssistanceDensity:Z}=a.useFormContext(),$=null!=j?j:J,ee=null!=L?L:K,se=null!=S?S:Q,ne=null!=R?R:X,te=null!=I?I:Y,ae=null!=P?P:Z,{enabledElementRef:ie,readonlyElementRef:le,focusProps:oe,isFocused:re}=l.useFocusableTextField({isDisabled:$,isReadonly:ee,ref:q}),{formFieldContext:ue,inputProps:ce,labelProps:de,textFieldProps:xe,userAssistanceProps:he}=u.useTextField({ariaDescribedBy:e,contentVariant:"textarea",isDisabled:$,isFocused:re,isReadonly:ee,labelEdge:se,messages:T,styleVariant:V,value:w}),{isMaxLengthExceeded:ge,valueLength:be,onFilteredInput:Fe}=d.useLengthFilter({maxLength:E,maxLengthUnit:k,value:w,onInput:H,onCommit:G}),me="none"!==se?s.jsx(o.Label,Object.assign({},de,{children:y})):void 0,pe={label:"none"!==se?me:void 0,labelEdge:"none"!==se?se:void 0,labelStartWidth:"none"!==se?ne:void 0},ve="none"===se?y:void 0,je=$||ee?"efficient"!==ae?void 0:s.jsx(c.InlineUserAssistance,Object.assign({userAssistanceDensity:ae},he)):s.jsx(c.InlineUserAssistance,Object.assign({assistiveText:x,fieldLabel:y,helpSourceLink:b,helpSourceText:F,messages:T,isRequiredShown:f,userAssistanceDensity:ae},he));if(ee)return s.jsx(i.FormFieldContext.Provider,Object.assign({value:ue},{children:s.jsx(r.ReadonlyTextField,Object.assign({role:"presentation",inlineUserAssistance:je,variant:"textarea"},pe,{children:s.jsx(p.ReadonlyTextFieldInput,{ariaDescribedBy:e,ariaLabel:ve,ariaLabelledBy:de.id,as:"textarea",elementRef:le,rows:_,autoFocus:g,textAlign:te,value:w,variant:"textarea",hasInsideLabel:void 0!==y&&"inside"===se})}))}));const Le=t.useCallback(()=>{var e,s;const n=ie.current,t=n?n.value.length:null;null===(e=ie.current)||void 0===e||e.setSelectionRange(t,t),null===(s=ie.current)||void 0===s||s.focus()},[]),Ae=s.jsxs(n.Fragment,{children:[s.jsx(v.TextFieldInput,Object.assign({as:"textarea",ariaLabel:ve,autoComplete:h,autoFocus:g,currentCommitValue:W,hasInsideLabel:void 0!==me&&"inside"===se,isRequired:A,inputRef:ie,onCommit:G,onInput:Fe,placeholder:O,role:D,rows:_,textAlign:te,value:w},ce)),"remaining"===U&&void 0!==E&&s.jsx(C,Object.assign({},{maxLength:E,valueLength:be,parentHasFocus:re,onClick:Le})),void 0!==E&&s.jsx(r.MaxLengthLiveRegion,Object.assign({},{isMaxLengthExceeded:ge,maxLength:E,valueLength:be}))]});return s.jsx(i.FormFieldContext.Provider,Object.assign({value:ue},{children:s.jsx(r.TextField,Object.assign({mainContent:Ae,inlineUserAssistance:je,onBlur:null==oe?void 0:oe.onfocusout,onFocus:null==oe?void 0:oe.onfocusin,resize:N},xe,pe))}))});e.MaxLengthCounter=C,e.TextArea=y});
//# sourceMappingURL=TextArea-9eb3116b.js.map
