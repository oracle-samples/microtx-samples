function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,r):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,o=new Array(r);e<r;e++)o[e]=t[e];return o}define(["exports","preact/jsx-runtime","preact/hooks","preact/compat","./index-e6354839","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./hooks/UNSAFE_useUser"],function(t,r,e,o,n,i,s,a){"use strict";const l=o.forwardRef(({},t)=>r.jsxs("div",Object.assign({ref:t},{children:[" ",r.jsx("div",{})," "]})));const c=o.forwardRef(({children:t,onClickOutside:o,placement:c="bottom",anchorRef:u,offsetValue:f,class:d,tail:p="none",flipOptions:m={mainAxis:!0,crossAxis:!1},shiftOptions:b={mainAxis:!0,crossAxis:!1},onPosition:y},h)=>{const A=e.useRef(null),[g,x]=e.useState(null);e.useLayoutEffect(()=>{x(u.current)},[]),u.current!==g&&x(u.current);const{direction:v}=a.useUser(),_="rtl"===v,T=e.useCallback(t=>{!function(t,r,e,o,n){var i,s;if("simple"===o&&t.arrow){const{x:o,y:a,centerOffset:l}=t.arrow,c=e.current,u=7,f=6,d=null===(i=e.current)||void 0===i?void 0:i.querySelector("div"),p=5,m=5,b={position:"absolute",width:"0px",height:"0px"};let y=0,h=0;const A=r.current,g=void 0===(null==A?void 0:A.x)&&void 0===(null==A?void 0:A.y);g&&(y=Math.round(A.getBoundingClientRect().height),h=Math.round(null===(s=r.current)||void 0===s?void 0:s.getBoundingClientRect().width));const x=g?Math.abs(l)>=y/2-u/2:["start-top-corner","start-bottom-corner","end-top-corner","end-bottom-corner"].includes(t.origPlacement),v=g?Math.abs(l)>=h/2-u/2:["top-start-corner","top-end-corner","bottom-start-corner","bottom-end-corner"].includes(t.origPlacement),_=0===l,T=l>0;function k(t){const r=t?f:u;j({borderTop:`${S(r)} solid rgba(var(--oj-c-PRIVATE-DO-NOT-USE-palette-neutral-rgb-90), 0.1)`,borderRight:E(r),borderLeft:E(r)});const e=t?m:p;w({borderTop:`${S(e)} solid var(--oj-c-PRIVATE-DO-NOT-USE-popup-bg-color)`,borderRight:`${E(e)}`,borderLeft:`${E(e)}`})}function O(t,r){Object.assign(null==r?void 0:r.style,t)}function j(t){O(t,c)}function w(t){O(t,d)}function R(t){return`rotate(${45*t}deg)`}function S(t){return`${t}px`}function E(t){return`${S(t)} solid transparent`}switch(O(b,c),O(b,d),k(x||v),t.placement.split("-")[0]){case"top":C();break;case"end":n?U():I();break;case"bottom":L();break;case"start":n?I():U()}function C(){null!=o&&(v?(j({top:"",bottom:S(2-u),left:S(o+(T?5:-5)),transform:R(T?5:3)}),$()):(j({top:"",bottom:S(-u),left:S(_?o:o+(T?1:-1)),transform:R(0)}),M()))}function I(){null!=a&&(x?(j({top:S(a+(T?2:-2)),right:"",left:S(-u-1),transform:R(T?7:5)}),$()):(j({top:S(_?a:a+(T?-2:2)),right:"",left:S(1.5*-u),transform:R(2)}),M()))}function L(){null!=o&&(v?(j({top:S(3-u),bottom:"",left:S(o+(T?4:-4)),transform:R(T?2:6)}),w({top:S(-p),left:S((T?1:-1)-p)})):(j({top:S(-u),bottom:"",left:S(_?o:o+(T?1:-1)),transform:R(4)}),M()))}function U(){null!=a&&(x?(j({top:S(a+(T?2:-2)),right:S(-u-1),left:"",transform:R(T?1:3)}),w({top:S(-p),left:S((T?-2:2)-p)})):(j({top:S(_?a:a+(T?-2:2)),right:S(1.5*-u),left:"",transform:R(6)}),M()))}function $(){w({top:S(-p),left:S((T?2:-2)-p)})}function M(){w({top:S(-p-2),left:S(-p)})}}}(t,u,A,p,_),null==y||y(t)},[c,u,A,p,y]),{x:k,y:O,reference:j,floating:w,refs:R}=n.useFloating({placement:c,middleware:[n.offset(f),n.b({mainAxis:m.mainAxis,crossAxis:m.crossAxis}),n.D({mainAxis:b.mainAxis,crossAxis:b.crossAxis,limiter:n.L({mainAxis:b.mainAxis,crossAxis:b.crossAxis})})].concat(_toConsumableArray(A.current?[n.m({element:A.current})]:[])),whileElementsMounted:n.N,onPosition:T});s.useOutsideClick({isDisabled:!1,ref:R.floating,handler:o}),e.useLayoutEffect(()=>{if(g instanceof Element){return void j(g)}const t=g,r={getBoundingClientRect:()=>({width:0,height:0,x:t.x,y:t.y,top:t.y,left:t.x,right:t.x,bottom:t.y})};t&&null!=t.x&&j(r)},[g,j]);const S=e.useMemo(()=>i.mergeRefs(h,w),[h,w]);return r.jsxs("div",Object.assign({class:d,ref:S,style:{display:"block",visibility:null==k&&null==O?"hidden":"visible",position:"absolute",top:null!=O?O:"",left:null!=k?k:""}},{children:[t,r.jsx(l,{ref:A})]}))});t.Floating=c});
//# sourceMappingURL=Floating-44114750.js.map
