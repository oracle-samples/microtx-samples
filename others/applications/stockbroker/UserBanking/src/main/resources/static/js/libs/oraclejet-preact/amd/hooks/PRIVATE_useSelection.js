define(["exports","preact/hooks","../utils/UNSAFE_arrayUtils","../utils/UNSAFE_keys"],function(e,t,r,n){"use strict";r.stringLiteralArray(["toggle","replace"]);const l=(e,t,r,l,o,s,i,a,y,u)=>{const c=t(e.target);if(null==c)return;if(e.shiftKey&&void 0!==a&&u&&((e,t,r,l)=>"multiple"===r&&"toggle"!==l&&n.containsKey(t,e))(a,r,l,o))return u({value:{start:a,end:c}}),void(i&&(i.current=c));let k=r;n.containsKey(r,c)?"Enter"!==e.key&&("toggle"===o||e.ctrlKey||e.metaKey||" "===e.key?k=n.removeKey(r,c,s):"multiple"===l&&(r.all||r.keys.size>1)&&(k={all:!1,keys:new Set([c])})):k="single"===l||"Enter"===e.key||"replace"===o&&!e.ctrlKey&&!e.metaKey?{all:!1,keys:new Set([c])}:n.addKey(r,c),r!=k&&y&&(y({value:k,target:e.target}),"click"===e.type&&e.stopPropagation())};e.useSelection=function(e,r,o,s,i,a,y,u,c,k,K){const f=t.useRef(),d=t.useCallback(t=>{l(t,e,r,o,i,s,f,y,a,K),t.shiftKey||(f.current=void 0)},[e,r,o,i,s,f,y,a,K]),g=t.useCallback(t=>{" "!==t.key&&"Enter"!==t.key||l(t,e,r,o,i,s,f,y,a,t.shiftKey&&" "===t.key?K:void 0)},[e,r,o,i,s,y,a,K]),p=t.useCallback(e=>{if(" "!==e.key){if("ArrowDown"===e.key||"ArrowUp"===e.key)if(e.shiftKey&&c&&k){let t=r;!f.current&&n.isKeyDefined(u)&&(t={all:!1,keys:new Set([u])});const l=c(f.current||u,"ArrowDown"!==e.key)();null!=l&&(n.containsKey(t,l)?null!=f.current&&f.current!==l&&(t=n.removeKey(t,f.current,s)):t=n.addKey(t,l),f.current=l,k(l)),r!=t&&a&&a({value:t,target:e.target})}else f.current=void 0}else e.preventDefault()},[r,s,a,u,c,k]);return{selectionProps:"none"===o||null==a?{}:{onClick:d,onKeyDown:p,onKeyUp:g}}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=PRIVATE_useSelection.js.map
