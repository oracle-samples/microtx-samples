define(["exports","preact/jsx-runtime","preact/hooks","./PRIVATE_Collection","./hooks/UNSAFE_useViewportIntersect","./Collection-a29e53a2"],function(e,t,o,n,r,s){"use strict";const i="oj-collection-loadmore";e.LoadMoreCollection=function({data:e,children:n,viewportConfig:c,onLoadRange:a,loadMoreIndicator:l,suggestions:d}){const u=o.useRef(null),f=o.useRef(-1);if(r.useViewportIntersect(c,1,".oj-collection-loadmore",()=>{if(e){(null==f.current||f.current<=0)&&(f.current=e.totalSize);const t=f.current&&f.current>0?f.current:25;a({offset:0,count:e.totalSize+t})}}),!e||!(e=>e&&e.data&&e.offset>=0&&e.totalSize>=0)(e))return t.jsx("div",{ref:u});const j=e,g=j.data,x=j.offset,h=x+g.length,p=j.totalSize,v=l&&"atLeast"===j.sizePrecision&&h<=p;return t.jsxs("div",Object.assign({ref:u},{children:[d,t.jsx(s.Collection,Object.assign({items:g},{children:(z=x,e=>{const t={index:z+e.index,data:e.data};return n(t)})})),v&&t.jsx("div",Object.assign({class:i},{children:l}))]}));var z}});
//# sourceMappingURL=LoadMoreCollection-d199803f.js.map
