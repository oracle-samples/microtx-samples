function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,r):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,o=new Array(r);e<r;e++)o[e]=t[e];return o}define(["exports","./tslib.es6-42e4f430","preact/jsx-runtime","./utils/UNSAFE_size","css!./UNSAFE_MeterBar.css","./utils/UNSAFE_classNames","./utils/UNSAFE_mergeProps","preact/hooks","./hooks/UNSAFE_useUser","./hooks/PRIVATE_useDvtMeterEvents","./utils/PRIVATE_meterUtils","./PRIVATE_Meter","./classNames-e842f86a","./hooks/UNSAFE_useTabbableMode","./UNSAFE_Environment","preact","./UNSAFE_Layer","preact/compat","./hooks/UNSAFE_useTooltip","./hooks/UNSAFE_useId","./UNSAFE_Floating","./Floating-44114750","./index-e6354839","./utils/PRIVATE_floatingUtils","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./utils/UNSAFE_arrayUtils","./hooks/UNSAFE_useHover","./hooks/UNSAFE_useToggle","./hooks/UNSAFE_useFocus","./hooks/UNSAFE_useTouch","./hooks/UNSAFE_useAnimation","./useAnimation-1a52f0c4"],function(t,r,e,o,a,n,i,s,l,c,u,h,d,m,g,_,b,p,v,f,y,S,A,k,z,T,x,E,M,U,F,j,N){"use strict";function C(t){if(!t)return{width:0,height:0};const r=t.getBoundingClientRect();return{width:r.width,height:r.height}}function I({orientation:t,percentage:r,color:o,position:a}){const n="horizontal"===t,{direction:i}=l.useUser(),s="rtl"===i,c="start"===a;return e.jsx("div",{class:d.classNames([B.base,B[`${t}Border`],B[`${t}`],c?n?B.horiontalStart:B["verticalStart"+(s?"Rtl":"Ltr")]:""]),style:{left:n&&!s?r:void 0,right:n&&s?r:void 0,bottom:n?void 0:r,backgroundColor:o}})}const B={base:"s43tea",verticalBorder:"kbwuoz",horizontalBorder:"vy60ha",vertical:"lwr9fj",horizontal:"qtckhb",horiontalStart:"c9hmyn",verticalStartLtr:"h6cpbc",verticalStartRtl:"_1ckkb69"};function w(t){var{color:o,length:a,orientation:n}=t,i=r.__rest(t,["color","length","orientation"]);const{direction:s}=l.useUser(),c="horizontal"===n,u="rtl"===s;return e.jsx("div",{class:d.classNames([L.base,c?L["horizontalBarTrackSection"+(u?"Rtl":"Ltr")]:L.verticalBarTrackSection,i.class]),style:{width:c?a:"100%",height:c?"100%":a,backgroundColor:o}})}const L={base:"vlo9h",verticalBarTrackSection:"_1b3zk19",horizontalBarTrackSectionRtl:"_186vb3l",horizontalBarTrackSectionLtr:"u3hbjh"};const R=function(t,r,e){const o=[];return t.start&&o.push(V[`${r}Margin${e?"Top":"Start"}`]),t.end&&o.push(V[`${r}Margin${e?"Bottom":"End"}`]),o},$={base:"_1g3lf8f",horizontal:"_1taxk2v",vertical:"_1j00gc3",interactive:"_1m2rzqt"},P={base:"_1w8bpeg",vertical:"_1e2inxh",horizontal:"_13mzw1v"},V={base:"_1cbeb2v",vertical:"b66php",smHorizontal:"_13a2zjz",smVertical:"_1jfmdys",mdHorizontal:"_9zv8oq",mdVertical:"_14y1zzq",lgHorizontal:"_1nk7xw0",lgVertical:"bpzrym",smMarginTop:"ar10ci",mdMarginTop:"_1eg4we7",lgMarginTop:"jiv3qs",smMarginStart:"_17qnnqh",mdMarginStart:"_7v0gty",lgMarginStart:"_13y2i05",smMarginEnd:"htz6do",mdMarginEnd:"_13jedts",lgMarginEnd:"bm2kr3",smMarginBottom:"bshzh3",mdMarginBottom:"qxxka6",lgMarginBottom:"_1enk3t7"},q={horizontalFirst:"_5ecxso",horizontalLast:"cu68gg",verticalFirst:"_6lzuem",verticalLast:"_40b10v"};t.MeterBar=function(t){var a,n,{max:g=100,min:_=0,value:b=0,step:p=1,length:v="100%",size:f="lg",orientation:y="horizontal",isTrackRendered:S=!0,thresholdDisplay:A="all",indicatorSize:k=1}=t,z=r.__rest(t,["max","min","value","step","length","size","orientation","isTrackRendered","thresholdDisplay","indicatorSize"]);u.validateRange(_,g,b,p);const T="horizontal"===y,x=s.useRef(null),E=s.useRef(C(null)),{direction:M}=l.useUser(),U="rtl"===M;s.useEffect(()=>{(z.onCommit||z.onInput)&&(E.current=C(x.current))},[f,v,y,z.onCommit,z.onInput]);const F=c.usePointerEvents(b,t=>{if(t.target==x.current)return function(t,r,e,o,a,n,i){const s=r.current;if(!s||0===s.width)return;let l;if("horizontal"===n){const r=t.offsetX;l=e+(o-e)*(i?s.width-r:r)/s.width}else l=e+(o-e)*(s.height-t.offsetY)/s.height;return l=Math.round(l/a)*a,Math.max(e,Math.min(o,l))}(t,E,_,g,p,y,U)},x,z.onCommit,z.onInput),j=c.useKeyboardEvents(b,_,g,p,z.onCommit,z.onInput),{datatipContent:N,datatipProps:B}=c.useMeterDatatip(b,z.datatip,z.ariaDescribedBy),L=u.getMeterAriaProps(b,_,g,`${b}`,z.accessibleLabel,z.ariaLabelledBy,z.thresholds),H=i.mergeProps(F,j,B,L),O=Math.max(0,Math.min(1,k)),D=100*(b-_)/(g-_)+"%",W=100*O+"%",{trackColor:K,indicatorColor:X}=u.getTrackAndIndicatorColor(b,A,z.trackColor,z.indicatorColor,z.thresholds),Y=function(t){let r={start:!1,end:!1};return t&&(r=t.reduce((t,r)=>(t.start=t.start||"start"===r.position,t.end=t.end||"end"===r.position||null==r.position,t),r)),r}(z.referenceLines),G=z.onCommit||z.onInput,{isTabbable:J}=m.useTabbableMode();return e.jsxs(e.Fragment,{children:[e.jsx("div",Object.assign({tabIndex:J?0:-1,role:"slider"},H,{style:{width:T?o.sizeToCSS(v):void 0,height:T?void 0:o.sizeToCSS(v)},class:d.classNames([$.base,$[y]])},{children:e.jsxs(h.BarTrack,Object.assign({ref:x,orientation:y,color:!S||"all"===A&&z.thresholds?"transparent":K,class:d.classNames([V.base,G?$.interactive:"",T?"":V.vertical,T?V[`${f}Horizontal`]:V[`${f}Vertical`]].concat(_toConsumableArray(R(Y,f,T))))},{children:["all"===A&&(null===(a=z.thresholds)||void 0===a?void 0:a.filter(t=>t.max>_&&t.max<=g).sort((t,r)=>t.max-r.max).map((t,r,o)=>{const a=0===r?t.max-_:t.max-o[r-1].max;return e.jsxs(e.Fragment,{children:[e.jsx(w,{class:0===r?q[`${y}First`]:"",orientation:y,length:100*a/(g-_)+"%",color:t.color}),S&&r===o.length-1&&t.max<g?e.jsx(w,{class:q[`${y}Last`],color:K,orientation:y,length:100*(g-o[r].max)/(g-_)+"%"}):""]})})),e.jsx(h.BarValue,{length:D,size:W,orientation:y,class:d.classNames([P.base,P[y]]),color:X}),null===(n=z.referenceLines)||void 0===n?void 0:n.map(t=>e.jsx(I,{color:t.color,orientation:y,percentage:100*(t.value-_)/(g-_)+"%",position:t.position}))]}))})),N]})},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=UNSAFE_MeterBar.js.map
