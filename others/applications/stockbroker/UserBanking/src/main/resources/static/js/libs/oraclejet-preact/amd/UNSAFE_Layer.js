define(["exports","preact/compat","preact","preact/jsx-runtime"],function(e,t,r,n){"use strict";const o=r.createContext({}),a="__oj_logical_parent",l=t.forwardRef((e,t)=>n.jsx("div",{id:"__oj_layerhost_container",ref:t}));l.displayName="Forwarded<LayerHost>",e.Layer=e=>{var r;const n=t.useContext(o),l=null===(r=n.getHost)||void 0===r?void 0:r.call(n),c=t.useMemo(()=>l,[l]),[s,u]=t.useState(null);return t.useLayoutEffect(()=>{var t;if(!c)return;const r=(null!==(t=c.ownerDocument)&&void 0!==t?t:document).createElement("div");return e.logicalParentRef&&(r[a]=e.logicalParentRef.current),c.appendChild(r),u(r),()=>{c&&r&&c.contains(r)&&(delete r[a],c.removeChild(r)),u(null)}},[c]),s&&t.createPortal(e.children,s)},e.LayerContext=o,e.LayerManager=function({children:e}){const[r,a]=t.useState(),c=t.useCallback(e=>{null!==e&&a(e)},[]);return n.jsx(o.Consumer,{children:t=>{const a=r?{getHost:()=>r}:{},s=t.getHost?t:a;return n.jsxs(o.Provider,Object.assign({value:s},{children:[e,!t.getHost&&n.jsx(l,{ref:c})]}))}})},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=UNSAFE_Layer.js.map
